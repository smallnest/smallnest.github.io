<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Ember.js 技巧、诀窍和最佳实践 | 鸟窝</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Ember.js是一款用来创建炫酷的Web应用程序的JavaScript MV* 框架。 正像AngularJS，Backbone.js一样正在广泛的应用于现代的Web开发中, 知名用户包括 Yahoo!, Groupon, 和 ZenDesk.总的来说， Ember.js还在推广之中， 国内使用它做开发的还比较少， 官方的文档也不是很完备。 所以这篇文章记录了我使用Ember中收集的一些技巧，诀">
<meta property="og:type" content="article">
<meta property="og:title" content="Ember.js 技巧、诀窍和最佳实践">
<meta property="og:url" content="http://colobu.com/2014/09/26/Emberjs-tips-tricks-and-best-practices/">
<meta property="og:site_name" content="鸟窝">
<meta property="og:description" content="Ember.js是一款用来创建炫酷的Web应用程序的JavaScript MV* 框架。 正像AngularJS，Backbone.js一样正在广泛的应用于现代的Web开发中, 知名用户包括 Yahoo!, Groupon, 和 ZenDesk.总的来说， Ember.js还在推广之中， 国内使用它做开发的还比较少， 官方的文档也不是很完备。 所以这篇文章记录了我使用Ember中收集的一些技巧，诀">
<meta property="og:image" content="http://emberjs.com/images/guides/models/finding-unloaded-record-step1-diagram.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Ember.js 技巧、诀窍和最佳实践">
<meta name="twitter:description" content="Ember.js是一款用来创建炫酷的Web应用程序的JavaScript MV* 框架。 正像AngularJS，Backbone.js一样正在广泛的应用于现代的Web开发中, 知名用户包括 Yahoo!, Groupon, 和 ZenDesk.总的来说， Ember.js还在推广之中， 国内使用它做开发的还比较少， 官方的文档也不是很完备。 所以这篇文章记录了我使用Ember中收集的一些技巧，诀">

  
    <link rel="alternative" href="/atom.xml" title="鸟窝" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css" type="text/css">

  <link href="//cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">
  
  <link rel="stylesheet" href="//libs.cncdn.cn/fancybox/2.1.5/jquery.fancybox.css" media="screen" type="text/css">
  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//cdn.staticfile.org/html5shiv/3.7/html5shiv.min.js"></script><![endif]-->

  <script type="text/javascript">
	//visit my previous blog: http://old.colobu.com just like this http://colobu.com/?=123456
    var blog_url = location.href.toString();
	if (blog_url.indexOf("http://colobu.com/?p=") >= 0) {
		blog_url = blog_url.replace("colobu.com", "old.colobu.com");
		window.location.assign(blog_url);
	} else if (blog_url.indexOf("http://smallnest.gitcafe.com") >= 0) {
		blog_url = blog_url.replace("smallnest.gitcafe.com", "colobu.com");
		window.location.assign(blog_url);
	}  else if (blog_url.indexOf("http://smallnest.gitcafe.io") >= 0) {
		blog_url = blog_url.replace("smallnest.gitcafe.io", "colobu.com");
		window.location.assign(blog_url);
	}
</script>
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap" class="animated bounceInLeft">
        <a href="/" id="logo">鸟窝</a>
      </h1>
      
        <h2 id="subtitle-wrap" class="animated bounceInLeft">
          <a href="/" id="subtitle">大道至简 Simplicity is the ultimate form of sophistication</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/"><i class="fa fa-home">&nbsp;</i>首页</a>
        
          <a class="main-nav-link" href="/archives"><i class="fa fa-folder-o">&nbsp;</i>归档</a>
        
          <a class="main-nav-link" href="https://github.com/smallnest"><i class="fa fa-github">&nbsp;</i>github</a>
        
          <a class="main-nav-link" href="http://tr.colobu.com"><i class="fa fa-spinner fa-pulse">&nbsp;</i>技术流</a>
        
          <a class="main-nav-link" href="/ScalaCollectionsCookbook"><i class="fa fa-book">&nbsp;</i>Scala集合技术手册</a>
        
          <a class="main-nav-link" href="/techreview"><i class="fa fa-newspaper-o">&nbsp;</i>技术快报</a>
        
          <a class="main-nav-link" href="/about"><i class="fa fa-lemon-o">&nbsp;</i>关于</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form">
          <input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search">
          <input type="submit" value="" class="search-form-submit">
          <input name=tn type=hidden value="bds">
          <input name=cl type=hidden value="3">
          <input name=ct type=hidden value="2097152">
          <input type="hidden" name="si" value="colobu.com">
        </form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Emberjs-tips-tricks-and-best-practices" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/09/26/Emberjs-tips-tricks-and-best-practices/" class="article-date">
  <time datetime="2014-09-26T00:57:33.000Z" itemprop="datePublished">2014年09月26日</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/前端开发/">前端开发</a>
  </div>

	
  <div class="article-author"> by smallnest</div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Ember.js 技巧、诀窍和最佳实践
	  
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
	  
	    <h1 id="expanderHead" style="cursor:pointer;">
		目录 <span id="expanderSign">[−]</span>
		</h1>
	    <div id="article-entry-toc" data-role="collapsible" class="article-entry-toc">
		  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#通用"><span class="toc-text">通用</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_核心概念"><span class="toc-text">  核心概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_命名约定"><span class="toc-text">  命名约定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_带Binding后缀的属性自动转为Ember-Binding对象"><span class="toc-text">  带Binding后缀的属性自动转为Ember.Binding对象</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#View_vs-_Component"><span class="toc-text">View vs. Component</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Controller"><span class="toc-text">Controller</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_转到其它页面"><span class="toc-text">  转到其它页面</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_访问其它Controller-_needs属性"><span class="toc-text">  访问其它Controller. needs属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用send调用定义的action"><span class="toc-text">  使用send调用定义的action</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_主动触发property变动事件"><span class="toc-text">  主动触发property变动事件</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Route"><span class="toc-text">Route</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_一些钩子hook"><span class="toc-text">  一些钩子hook</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_controllerFor"><span class="toc-text">  controllerFor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_modelFor得到父Route的model"><span class="toc-text">  modelFor得到父Route的model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_transitionTo,_intermediateTransitionTo"><span class="toc-text">  transitionTo, intermediateTransitionTo</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_refresh_刷新本route及子route的model"><span class="toc-text">  refresh 刷新本route及子route的model</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_渲染非默认的模版"><span class="toc-text">   渲染非默认的模版</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Model"><span class="toc-text">Model</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用Ember-Object的extend定义新类"><span class="toc-text">  使用Ember.Object的extend定义新类</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_计算属性Computed_Properties"><span class="toc-text">  计算属性Computed Properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_@each计算"><span class="toc-text">  @each计算</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_observers_是同步的"><span class="toc-text">  observers 是同步的</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_Ember-computed('aaa',_function(){}),_Ember-observer('aaa',_function_()_{})"><span class="toc-text">  Ember.computed('aaa', function(){}), Ember.observer('aaa', function () {})</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_reopen覆盖"><span class="toc-text">  reopen覆盖</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_架构"><span class="toc-text">  架构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_Store"><span class="toc-text">  Store</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_model_和_record"><span class="toc-text">  model 和 record</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_adapter"><span class="toc-text">  adapter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_Serializer"><span class="toc-text">  Serializer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_属性定义时，attr()类型可以不设置"><span class="toc-text">  属性定义时，attr()类型可以不设置</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_One-to-One,_One-to-Many和Many-to-Many-_hasMany"><span class="toc-text">  One-to-One, One-to-Many和Many-to-Many. hasMany</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_增删改查"><span class="toc-text">  增删改查</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_model的一些方法"><span class="toc-text">  model的一些方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_Adapter的_URL_Conventions"><span class="toc-text">  Adapter的 URL Conventions</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_namespace"><span class="toc-text">  namespace</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_normalizeHash"><span class="toc-text">  normalizeHash</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_Adapter的其它属性"><span class="toc-text">  Adapter的其它属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_定制Transformations"><span class="toc-text">  定制Transformations</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#View"><span class="toc-text">View</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_定义view"><span class="toc-text">  定义view</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_定制view元素"><span class="toc-text">  定制view元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_内建的view"><span class="toc-text">  内建的view</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Template"><span class="toc-text">Template</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#数据枚举_Ember-Enumerable"><span class="toc-text">数据枚举 Ember.Enumerable</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_forEach"><span class="toc-text">  forEach</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_可枚举的类型"><span class="toc-text">  可枚举的类型</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_toArray()得到纯javascript数组"><span class="toc-text">  toArray()得到纯javascript数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_firstObject,_lastObject"><span class="toc-text">  firstObject, lastObject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_MAP"><span class="toc-text">  MAP</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_filter"><span class="toc-text">  filter</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_Aggregate"><span class="toc-text">  Aggregate</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Helper"><span class="toc-text">Helper</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_each_helper"><span class="toc-text">  each helper</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_if-else"><span class="toc-text">  if-else</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_outlet"><span class="toc-text">  outlet</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_partial_渲染另外一个页面而不改变上下文"><span class="toc-text">  partial 渲染另外一个页面而不改变上下文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_render_使用包含的上下文"><span class="toc-text">  render 使用包含的上下文</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_view"><span class="toc-text">  view</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_view,_partial和render的区别"><span class="toc-text">  view, partial和render的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_with_changes_scope,_as"><span class="toc-text">  with changes scope, as</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_link-to"><span class="toc-text">  link-to</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_input"><span class="toc-text">  input</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_自定义helper"><span class="toc-text">  自定义helper</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Component"><span class="toc-text">Component</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_HTML代码代替hbs模版"><span class="toc-text">  HTML代码代替hbs模版</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_定义组件"><span class="toc-text">  定义组件</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#组件的钩子(Hook)函数"><span class="toc-text">组件的钩子(Hook)函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_传给组件参数"><span class="toc-text">  传给组件参数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_定制组件的属性"><span class="toc-text">  定制组件的属性</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_从组件发送action给其它应用"><span class="toc-text">  从组件发送action给其它应用</span></a></li></ol></li></ol></li></ol>
	    </div>
	  
	  
      
        <p>Ember.js是一款用来创建炫酷的Web应用程序的JavaScript MV* 框架。 正像AngularJS，Backbone.js一样正在广泛的应用于现代的Web开发中, 知名用户包括 Yahoo!, Groupon, 和 ZenDesk.<br>总的来说， Ember.js还在推广之中， 国内使用它做开发的还比较少， 官方的文档也不是很完备。 所以这篇文章记录了我使用Ember中收集的一些技巧，诀窍和最佳实践， 并且会不断的更新。</p>
<p>想了解Ember.js和其它JavaScript框架的区别， 可以看这篇文章: <a href="http://www.airpair.com/js/javascript-framework-comparison" target="_blank" rel="external">AngularJS vs. Backbone.js vs. Ember.js</a>。<br><a id="more"></a></p>
<h1 id="通用">通用</h1>
<h3 id="_核心概念"><i class="fa fa-lightbulb-o"></i>  核心概念</h3>
<p><strong>Template</strong>： describes the user interface of your application by Handlebars。<br><strong>Router</strong>： The router translates a URL into a series of nested templates, each backed by a model.<br><strong>Route</strong>: A route is an object that tells the template which model it should display.<br><strong>Model</strong>： A model is an object that stores persistent state.<br><strong>Controller</strong>： A controller is an object that stores application state. A template can optionally have a controller in addition to a model, and can retrieve properties from both.<br><strong>Component</strong>： A component is a custom HTML tag whose behavior you implement using JavaScript and whose appearance you describe using Handlebars templates. </p>
<h3 id="_命名约定"><i class="fa fa-lightbulb-o"></i>  命名约定</h3>
<p>Ember.js 由Yehuda Katz创建, 他还是jQuery, Ruby on Rails 和 SproutCore核心开发组的成员。 就像Katz其它项目一样， 命名约定(convention over configuration)被广泛使用。<br>你可以查看这篇文章了解Ember.js的命名： <a href="http://colobu.com/2014/09/10/ember-naming-conventions/" target="_blank" rel="external">Ember命名规则</a></p>
<h3 id="_带Binding后缀的属性自动转为Ember-Binding对象"><i class="fa fa-lightbulb-o"></i>  带<code>Binding</code>后缀的属性自动转为<code>Ember.Binding</code>对象</h3>
<p><code>valueBinding: &quot;MyApp.someController.title&quot;</code> will create a binding from MyApp.someController.title to the value property of your object instance automatically. Now the two values will be kept in sync.</p>
<p>单向绑定: <code>bigTitlesBinding: Ember.Binding.oneWay(&quot;MyApp.preferencesController.bigTitles&quot;)</code></p>
<h3 id="View_vs-_Component">View vs. Component</h3>
<p>一句话， 尽量使用Component而不是View</p>
<blockquote>
<p>Contrarily to Ember views, an Ember component is not connected to a related Ember Controller, since it is self contained, in which regards both the data and events that it handles. In this sense, components are easier to reuse in different places of the application, as well as in different applications.<br><a href="http://raulbrito.github.io/articles/thoughts-on-ember-views-vs-components/" target="_blank" rel="external">http://raulbrito.github.io/articles/thoughts-on-ember-views-vs-components/</a></p>
</blockquote>
<h1 id="Controller">Controller</h1>
<h3 id="_转到其它页面"><i class="fa fa-lightbulb-o"></i>  转到其它页面</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">aController.transitionToRoute(<span class="string">'blogPosts'</span>);</div><div class="line">aController.transitionToRoute(<span class="string">'blogPosts.recentEntries'</span>);</div><div class="line">aController.transitionToRoute(<span class="string">'blogPost'</span>, aPost);</div><div class="line">aController.transitionToRoute(<span class="string">'blogPost'</span>, <span class="number">1</span>);</div></pre></td></tr></table></figure>

<p>转到指定的url在测试和调试的时候也可以使用，正式产品中还少用到。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">aController.transitionToRoute(<span class="string">'/'</span>);</div><div class="line">aController.transitionToRoute(<span class="string">'/blog/post/1/comment/13'</span>);</div></pre></td></tr></table></figure>



<h3 id="_访问其它Controller-_needs属性"><i class="fa fa-lightbulb-o"></i>  访问其它Controller. <code>needs</code>属性</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">App.CommentsController = Ember.ArrayController.extend({</div><div class="line">  needs: [<span class="string">'post'</span>],</div><div class="line">  postTitle: <span class="function"><span class="keyword">function</span><span class="params">()</span></span>{</div><div class="line">    <span class="keyword">var</span> currentPost = <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'controllers.post'</span>); <span class="comment">// instance of App.PostController</span></div><div class="line">    <span class="keyword">return</span> currentPost.<span class="keyword">get</span>(<span class="string">'title'</span>);</div><div class="line">  }.property(<span class="string">'controllers.post.title'</span>)</div><div class="line">});</div></pre></td></tr></table></figure>

<p><code>needs</code>定义为此controller要访问的其它controllers的数组。<br>嵌套的controller也可以访问：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">App.CommentsNewController = Ember.ObjectController.extend({</div><div class="line">});</div><div class="line">App.IndexController = Ember.ObjectController.extend({</div><div class="line">  needs: [<span class="string">'commentsNew'</span>]</div><div class="line">});</div><div class="line"><span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'controllers.commentsNew'</span>); <span class="comment">// instance of App.CommentsNewController</span></div></pre></td></tr></table></figure>

<h3 id="_使用send调用定义的action"><i class="fa fa-lightbulb-o"></i>  使用<code>send</code>调用定义的<code>action</code></h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">App.WelcomeRoute = Ember.Route.extend({</div><div class="line">  actions: {</div><div class="line">    playTheme: <span class="keyword">function</span>() {</div><div class="line">       this.send(<span class="string">'playMusic'</span>, <span class="string">'theme.mp3'</span>);</div><div class="line">    },</div><div class="line">    playMusic: <span class="keyword">function</span>(track) {</div><div class="line">      // <span class="keyword">...</span></div><div class="line">    }</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_主动触发property变动事件"><i class="fa fa-lightbulb-o"></i>  主动触发property变动事件</h3>
<p><code>propertyDidChange</code>, <code>propertyWillChange</code> 即使你没有调用<code>get</code>或<code>set</code>也能触发事件。</p>
<h1 id="Route">Route</h1>
<h3 id="_一些钩子hook"><i class="fa fa-lightbulb-o"></i>  一些钩子<code>hook</code></h3>
<ul>
<li>activate Router进入此route时</li>
<li>beforeModel 在model之前调用</li>
<li>model 获取model数据</li>
<li>afterModel 当model获取到。 主要获取model时使用的是async/promise语法。</li>
<li>renderTemplate 渲染模版的钩子</li>
<li>setupController 为当前route设置钩子</li>
</ul>
<h3 id="_controllerFor"><i class="fa fa-lightbulb-o"></i>  <code>controllerFor</code></h3>
<p>在route中得到其它的controller对象。参数为the name of the route or controller。</p>
<h3 id="_modelFor得到父Route的model"><i class="fa fa-lightbulb-o"></i>  <code>modelFor</code>得到父Route的model</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">App.Router.map(<span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">this</span>.resource(<span class="string">'post'</span>, { path: <span class="string">'/post/:post_id'</span> }, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">        <span class="keyword">this</span>.resource(<span class="string">'comments'</span>);</div><div class="line">    });</div><div class="line">});</div><div class="line"></div><div class="line">App.CommentsRoute = Ember.Route.extend({</div><div class="line">    afterModel: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">        <span class="keyword">this</span>.<span class="keyword">set</span>(<span class="string">'post'</span>, <span class="keyword">this</span>.modelFor(<span class="string">'post'</span>));</div><div class="line">    }</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_transitionTo,_intermediateTransitionTo"><i class="fa fa-lightbulb-o"></i>  <code>transitionTo</code>, <code>intermediateTransitionTo</code></h3>
<p>跳转到另外的route. The route may be either a single route or route path:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.transitionTo(<span class="string">'blogPosts'</span>);</div><div class="line"><span class="keyword">this</span>.transitionTo(<span class="string">'blogPosts.recentEntries'</span>);</div><div class="line"><span class="keyword">this</span>.transitionTo(<span class="string">'blogPost'</span>, aPost);</div><div class="line"><span class="keyword">this</span>.transitionTo(<span class="string">'blogPost'</span>, <span class="number">1</span>);</div></pre></td></tr></table></figure>

<h3 id="_refresh_刷新本route及子route的model"><i class="fa fa-lightbulb-o"></i>  <code>refresh</code> 刷新本route及子route的model</h3>
<h3 id="_渲染非默认的模版"><i class="fa fa-lightbulb-o"></i>   渲染非默认的模版</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App.PostsRoute = Ember.Route.extend({</div><div class="line">  renderTemplate: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">this</span>.render(<span class="string">'favoritePost'</span>);</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>

<h1 id="Model">Model</h1>
<h3 id="_使用Ember-Object的extend定义新类"><i class="fa fa-lightbulb-o"></i>  使用<code>Ember.Object</code>的<code>extend</code>定义新类</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App.Person = Ember.Object.extend({</div><div class="line">  say: <span class="function"><span class="keyword">function</span><span class="params">(thing)</span> </span>{</div><div class="line">    alert(thing);</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>

<p><code>_super()</code>父类的方法。</p>
<p>创建实例: <code>var person = App.Person.create();</code></p>
<h3 id="_计算属性Computed_Properties"><i class="fa fa-lightbulb-o"></i>  计算属性Computed Properties</h3>
<p>computed properties let you declare functions as properties.</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">App.Person = Ember.Object.extend({</div><div class="line">  <span class="comment">// these will be supplied by `create`</span></div><div class="line">  firstName: <span class="literal">null</span>,</div><div class="line">  lastName: <span class="literal">null</span>,</div><div class="line"></div><div class="line">  fullName: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'firstName'</span>) + <span class="string">' '</span> + <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'lastName'</span>);</div><div class="line">  }.property(<span class="string">'firstName'</span>, <span class="string">'lastName'</span>)</div><div class="line">});</div><div class="line"></div><div class="line"><span class="keyword">var</span> ironMan = App.Person.create({</div><div class="line">  firstName: <span class="string">"Tony"</span>,</div><div class="line">  lastName:  <span class="string">"Stark"</span></div><div class="line">});</div><div class="line"></div><div class="line">ironMan.<span class="keyword">get</span>(<span class="string">'fullName'</span>); <span class="comment">// "Tony Stark"</span></div></pre></td></tr></table></figure>

<p>设置计算属性：</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">App.Person = Ember.Object.extend({</div><div class="line">  firstName: <span class="literal">null</span>,</div><div class="line">  lastName: <span class="literal">null</span>,</div><div class="line"></div><div class="line">  fullName: <span class="function"><span class="keyword">function</span><span class="params">(key, value, previousValue)</span> </span>{</div><div class="line">    <span class="comment">// setter</span></div><div class="line">    <span class="keyword">if</span> (arguments.length &gt; <span class="number">1</span>) {</div><div class="line">      <span class="keyword">var</span> nameParts = value.split(/\s+/);</div><div class="line">      <span class="keyword">this</span>.<span class="keyword">set</span>(<span class="string">'firstName'</span>, nameParts[<span class="number">0</span>]);</div><div class="line">      <span class="keyword">this</span>.<span class="keyword">set</span>(<span class="string">'lastName'</span>,  nameParts[<span class="number">1</span>]);</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="comment">// getter</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'firstName'</span>) + <span class="string">' '</span> + <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'lastName'</span>);</div><div class="line">  }.property(<span class="string">'firstName'</span>, <span class="string">'lastName'</span>)</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_@each计算"><i class="fa fa-lightbulb-o"></i>  <code>@each</code>计算</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">App.TodosController = Ember.Controller.extend({</div><div class="line">  todos: [</div><div class="line">    Ember.Object.create({ isDone: <span class="literal">true</span> }),</div><div class="line">    Ember.Object.create({ isDone: <span class="literal">false</span> }),</div><div class="line">    Ember.Object.create({ isDone: <span class="literal">true</span> })</div><div class="line">  ],</div><div class="line"></div><div class="line">  remaining: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">var</span> todos = <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'todos'</span>);</div><div class="line">    <span class="keyword">return</span> todos.filterBy(<span class="string">'isDone'</span>, <span class="literal">false</span>).<span class="keyword">get</span>(<span class="string">'length'</span>);</div><div class="line">  }.property(<span class="string">'todos.@each.isDone'</span>)</div><div class="line">});</div></pre></td></tr></table></figure>

<p>数组元素的每一个更新 （CUD或者数组重新被赋值）都会触发重新计算。</p>
<h3 id="_observers_是同步的"><i class="fa fa-lightbulb-o"></i>  <code>observers</code> 是同步的</h3>
<p>运行一次<code>Ember.run.once</code></p>
<p>Observers 在对象初始化之前不会被触发。如果想init时被触发，加上<code>.on(\&#39;init\&#39;)</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">App.Person = Ember.Object.extend({</div><div class="line">  init: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">this</span>.<span class="keyword">set</span>(<span class="string">'salutation'</span>, <span class="string">"Mr/Ms"</span>);</div><div class="line">  },</div><div class="line"></div><div class="line">  salutationDidChange: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="comment">// some side effect of salutation changing</span></div><div class="line">  }.observes(<span class="string">'salutation'</span>).on(<span class="string">'init'</span>)</div><div class="line">});</div></pre></td></tr></table></figure>

<p>增加observer:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">person.addObserver(<span class="string">'fullName'</span>, <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">  <span class="comment">// deal with the change</span></div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_Ember-computed(&#39;aaa&#39;,_function(){}),_Ember-observer(&#39;aaa&#39;,_function_()_{})"><i class="fa fa-lightbulb-o"></i>  <code>Ember.computed(&#39;aaa&#39;, function(){})</code>, <code>Ember.observer(&#39;aaa&#39;, function () {})</code></h3>
<p>可以写为 <code>function(){}.property(&#39;aaaa&#39;)</code>, <code>function(){}.observers(&#39;aaa&#39;)</code></p>
<h3 id="_reopen覆盖"><i class="fa fa-lightbulb-o"></i>  <code>reopen</code>覆盖</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="tag">Person</span><span class="class">.reopen</span>(<span class="rules">{</span></div><div class="line">  <span class="rule"><span class="attribute">isPerson</span>:<span class="value"> true,</span></span></div><div class="line">  say: <span class="function">function</span>(thing) {</div><div class="line">    this._<span class="function">super</span>(thing + <span class="string">"!"</span>);</div><div class="line">  <span class="rule">}</span></div><div class="line">});</div></pre></td></tr></table></figure>

<p>Person.create().get(&#39;isPerson&#39;) // true</p>
<h3 id="_架构"><i class="fa fa-lightbulb-o"></i>  架构</h3>
<p><img src="http://emberjs.com/images/guides/models/finding-unloaded-record-step1-diagram.png" alt=""></p>
<h3 id="_Store"><i class="fa fa-lightbulb-o"></i>  Store</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">App.Store = DS.Store.<span class="built_in">extend</span>();</div><div class="line">App.register(<span class="string">'store:main'</span>, App.Store);</div><div class="line">App.inject(<span class="string">'view'</span>, <span class="string">'store'</span>, <span class="string">'store:main'</span>);</div></pre></td></tr></table></figure>

<h3 id="_model_和_record"><i class="fa fa-lightbulb-o"></i>  model 和 record</h3>
<p>record是model的一个实例</p>
<h3 id="_adapter"><i class="fa fa-lightbulb-o"></i>  adapter</h3>
<p>负责将record和数据持久化后台结合起来。<br><code>DS.RESTAdapter</code>, <code>FixtureAdapter</code></p>
<h3 id="_Serializer"><i class="fa fa-lightbulb-o"></i>  Serializer</h3>
<p>A serializer is responsible for turning a raw JSON payload returned from your server into a record object.<br>负责将一个纯的JSON转换成record对象。</p>
<h3 id="_属性定义时，attr()类型可以不设置"><i class="fa fa-lightbulb-o"></i>  属性定义时，<code>attr()</code>类型可以不设置</h3>
<p>后台服务器返回啥就是啥。也可以指定类型。类型只能是<code>string</code>,<code>number</code>,<code>boolean</code>和<code>date</code>。<br>Date遵循 ISO 8601. 例如: 2014-05-27T12:54:01。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">firstName</span>: <span class="string">attr(),</span></div><div class="line"><span class="attribute">lastName</span>: <span class="string">attr(),</span></div><div class="line"><span class="attribute">birthday</span>: <span class="string">DS.attr('date')</span></div></pre></td></tr></table></figure>

<h3 id="_One-to-One,_One-to-Many和Many-to-Many-_hasMany"><i class="fa fa-lightbulb-o"></i>  One-to-One, One-to-Many和Many-to-Many. hasMany</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line">App.User = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  profile:</span> <span class="literal">DS</span>.belongsTo(<span class="string">'profile'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line">App.Profile = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  user:</span> <span class="literal">DS</span>.belongsTo(<span class="string">'user'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line">App.Post = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  comments:</span> <span class="literal">DS</span>.hasMany(<span class="string">'comment'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line">App.Comment = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  post:</span> <span class="literal">DS</span>.belongsTo(<span class="string">'post'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line">App.Post = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  tags:</span> <span class="literal">DS</span>.hasMany(<span class="string">'tag'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line">App.Tag = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  posts:</span> <span class="literal">DS</span>.hasMany(<span class="string">'post'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line">var belongsTo = <span class="literal">DS</span>.belongsTo,</div><div class="line">    hasMany = <span class="literal">DS</span>.hasMany<span class="comment">;</span></div><div class="line"></div><div class="line">App.Comment = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  onePost:</span> belongsTo(<span class="string">'post'</span>),</div><div class="line"><span class="label">  twoPost:</span> belongsTo(<span class="string">'post'</span>),</div><div class="line"><span class="label">  redPost:</span> belongsTo(<span class="string">'post'</span>),</div><div class="line"><span class="label">  bluePost:</span> belongsTo(<span class="string">'post'</span>)</div><div class="line">})<span class="comment">;</span></div><div class="line"></div><div class="line"></div><div class="line">App.Post = <span class="literal">DS</span>.Model.extend({</div><div class="line"><span class="label">  comments:</span> hasMany(<span class="string">'comment'</span>, {</div><div class="line"><span class="label">    inverse:</span> <span class="string">'redPost'</span></div><div class="line">  })</div><div class="line">})</div></pre></td></tr></table></figure>

<h3 id="_增删改查"><i class="fa fa-lightbulb-o"></i>  增删改查</h3>
<ol>
<li>createRecord</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> store = <span class="keyword">this</span>.store;</div><div class="line"></div><div class="line"><span class="keyword">var</span> post = store.createRecord(<span class="string">'post'</span>, {</div><div class="line">  title: <span class="string">'Rails is Omakase'</span>,</div><div class="line">  body: <span class="string">'Lorem ipsum'</span></div><div class="line">});</div><div class="line"></div><div class="line">store.find(<span class="string">'user'</span>, <span class="number">1</span>).then(<span class="function"><span class="keyword">function</span><span class="params">(user)</span> </span>{</div><div class="line">  post.<span class="keyword">set</span>(<span class="string">'author'</span>, user);</div><div class="line">});</div></pre></td></tr></table></figure>

<ol>
<li>deleteRecord/save 或者 destroyRecord<br>store.find(&#39;post&#39;, 1).then(function (post) {<br>post.deleteRecord();<br>post.get(&#39;isDeleted&#39;); // =&gt; true<br>post.save(); // =&gt; DELETE to /posts/1<br>});</li>
</ol>
<p>// OR<br>store.find(&#39;post&#39;, 2).then(function (post) {<br>  post.destroyRecord(); // =&gt; DELETE to /posts/2<br>});</p>
<ol>
<li>push到store的缓存</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">this</span>.store.<span class="keyword">push</span>(<span class="string">'album'</span>, {</div><div class="line">      id: <span class="number">1</span>,</div><div class="line">      title: <span class="string">"Fewer Moving Parts"</span>,</div><div class="line">      artist: <span class="string">"David Bazan"</span>,</div><div class="line">      songCount: <span class="number">10</span></div><div class="line">    });</div></pre></td></tr></table></figure>

<ol>
<li>save</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> onSuccess = <span class="function"><span class="keyword">function</span><span class="params">(post)</span> </span>{</div><div class="line">  <span class="keyword">self</span>.transitionToRoute(<span class="string">'posts.show'</span>, post);</div><div class="line">};</div><div class="line"></div><div class="line"><span class="keyword">var</span> onFail = <span class="function"><span class="keyword">function</span><span class="params">(post)</span> </span>{</div><div class="line">  <span class="comment">// deal with the failure here</span></div><div class="line">};</div><div class="line"></div><div class="line">post.save().then(onSuccess, onFail);</div></pre></td></tr></table></figure>

<ol>
<li>find<br>根据参数内部用<code>find</code>,<code>findAll</code>和<code>findQuery</code>实现。</li>
</ol>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="reserved">var</span> posts = <span class="keyword">this</span>.store.find(<span class="string">'post'</span>); <span class="regexp">//</span><span class="function"> =&gt;</span> GET /posts</div><div class="line"><span class="reserved">var</span> posts = <span class="keyword">this</span>.store.all(<span class="string">'post'</span>); <span class="regexp">//</span><span class="function"> =&gt;</span> <span class="literal">no</span> network request</div><div class="line"><span class="reserved">var</span> aSinglePost = <span class="keyword">this</span>.store.find(<span class="string">'post'</span>, <span class="number">1</span>); <span class="regexp">//</span><span class="function"> =&gt;</span> GET /posts/<span class="number">1</span></div><div class="line"><span class="reserved">var</span> peters = <span class="keyword">this</span>.store.find(<span class="string">'person'</span>, { <span class="attribute">name</span>: <span class="string">"Peter"</span> }); <span class="regexp">//</span><span class="function"> =&gt;</span> GET to /persons?name=<span class="string">'Peter'</span></div></pre></td></tr></table></figure>

<h3 id="_model的一些方法"><i class="fa fa-lightbulb-o"></i>  model的一些方法</h3>
<p><code>incrementProperty</code><br><code>changedAttributes</code><br><code>
</code></p>
<h3 id="_Adapter的_URL_Conventions"><i class="fa fa-lightbulb-o"></i>  Adapter的 URL Conventions</h3>
<table>
<thead>
<tr>
<th>Action</th>
<th>HTTP Verb</th>
<th>URL</th>
</tr>
</thead>
<tbody>
<tr>
<td>Find</td>
<td>GET</td>
<td>/people/123</td>
</tr>
<tr>
<td>Find All</td>
<td>GET</td>
<td>/people</td>
</tr>
<tr>
<td>Update</td>
<td>PUT</td>
<td>/people/123</td>
</tr>
<tr>
<td>Create</td>
<td>POST</td>
<td>/people</td>
</tr>
<tr>
<td>Delete</td>
<td>DELETE</td>
<td>/people/123</td>
</tr>
</tbody>
</table>
<h3 id="_namespace"><i class="fa fa-lightbulb-o"></i>  namespace</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="filename">App.ApplicationAdapter = DS.RESTAdapter.extend({</span></div><div class="line">  namespace: <span class="string">'api/1'</span></div><div class="line">});</div></pre></td></tr></table></figure>

<p>Requests for <code>App.Person</code> would now target <code>/api/1/people/1</code>.</p>
<h3 id="_normalizeHash"><i class="fa fa-lightbulb-o"></i>  normalizeHash</h3>
<p>如果想将JSON中的<code>lastNameOfPerson</code>关联model的<code>lastName</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">App.Person = DS.Model.extend({</div><div class="line">  lastName: DS.attr(<span class="string">'string'</span>)</div><div class="line">});</div><div class="line"></div><div class="line">App.PersonSerializer = DS.RESTSerializer.extend({</div><div class="line">  normalizeHash: {</div><div class="line">    lastNameOfPerson: <span class="function"><span class="keyword">function</span><span class="params">(hash)</span> </span>{</div><div class="line">      hash.lastName = hash.lastNameOfPerson;</div><div class="line">      <span class="keyword">delete</span> hash.lastNameOfPerson;</div><div class="line"></div><div class="line">      <span class="keyword">return</span> hash;</div><div class="line">    }</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_Adapter的其它属性"><i class="fa fa-lightbulb-o"></i>  Adapter的其它属性</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">App.ApplicationAdapter = DS.RESTAdapter.extend({</div><div class="line">  <span class="keyword">namespace</span>: 'api/<span class="number">1</span>'</div><div class="line">});</div><div class="line"></div><div class="line">App.ApplicationAdapter = DS.RESTAdapter.extend({</div><div class="line">  host: 'https:<span class="comment">//api.example.com'</span></div><div class="line">});</div><div class="line"></div><div class="line">App.ApplicationAdapter = DS.RESTAdapter.extend({</div><div class="line">  pathForType: <span class="keyword">function</span>(<span class="class"><span class="keyword">type</span>) {</span></div><div class="line">    <span class="keyword">return</span> Ember.String.underscore(<span class="class"><span class="keyword">type</span>);</span></div><div class="line">  }</div><div class="line">});</div><div class="line"></div><div class="line">MyCustomAdapterAdapter = DS.RESTAdapter.extend({</div><div class="line">  defaultSerializer: '-<span class="keyword">default</span>'</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_定制Transformations"><i class="fa fa-lightbulb-o"></i>  定制Transformations</h3>
<p>除了内建类型<code>string</code>, <code>number</code>, <code>boolean</code>, and <code>date</code>，你可以定义新类型。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">App.CoordinatePointTransform = DS.Transform.extend({</div><div class="line">  serialize: function(<span class="keyword">value</span>) {</div><div class="line">    <span class="keyword">return</span> [<span class="keyword">value</span>.<span class="keyword">get</span>(<span class="string">'x'</span>), <span class="keyword">value</span>.<span class="keyword">get</span>(<span class="string">'y'</span>)];</div><div class="line">  },</div><div class="line">  deserialize: function(<span class="keyword">value</span>) {</div><div class="line">    <span class="keyword">return</span> Ember.create({ x: <span class="keyword">value</span>[<span class="number">0</span>], y: <span class="keyword">value</span>[<span class="number">1</span>] });</div><div class="line">  }</div><div class="line">});</div><div class="line"></div><div class="line">App.Cursor = DS.Model.extend({</div><div class="line">  position: DS.attr(<span class="string">'coordinatePoint'</span>)</div><div class="line">});</div></pre></td></tr></table></figure>

<p>数组类型</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">App.ArrayTransform = DS.Transform.extend({</div><div class="line"></div><div class="line">    deserialize: <span class="function"><span class="keyword">function</span> <span class="params">(serialized)</span> </span>{</div><div class="line"><span class="pi">        'use strict'</span>;</div><div class="line">        <span class="keyword">return</span> Ember.A(serialized);</div><div class="line">    },</div><div class="line"></div><div class="line">    serialize: <span class="function"><span class="keyword">function</span> <span class="params">(deserialized)</span> </span>{</div><div class="line"><span class="pi">        'use strict'</span>;</div><div class="line">        <span class="keyword">return</span> deserialized ? deserialized.toArray() : [];</div><div class="line">    }</div><div class="line">});</div></pre></td></tr></table></figure>

<h1 id="View">View</h1>
<h3 id="_定义view"><i class="fa fa-lightbulb-o"></i>  定义view</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">view</span> </span><span class="string">"clickable"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">This is a clickable area!</div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">view</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line">App.ClickableView = Ember.View.extend({</div><div class="line">  click: <span class="function"><span class="keyword">function</span><span class="params">(evt)</span> </span>{</div><div class="line">    this.get(<span class="string">'controller'</span>).send(<span class="string">'turnItUp'</span>, <span class="number">11</span>);</div><div class="line">  }</div><div class="line">});</div><div class="line"></div><div class="line">App.PlaybackController = Ember.ObjectController.extend({</div><div class="line">  actions: {</div><div class="line">    turnItUp: <span class="function"><span class="keyword">function</span><span class="params">(level)</span></span>{</div><div class="line">      <span class="comment">//Do your thing</span></div><div class="line">    }</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_定制view元素"><i class="fa fa-lightbulb-o"></i>  定制view元素</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="filename">App.MyView = Ember.View.extend({</span></div><div class="line">  tagName: <span class="string">'span'</span></div><div class="line">});</div><div class="line"></div><div class="line"><span class="filename">App.MyView = Ember.View.extend({</span></div><div class="line">  classNames: [<span class="string">'my-view'</span>]</div><div class="line">});</div><div class="line"></div><div class="line"><span class="filename">App.MyView = Ember.View.extend({</span></div><div class="line">  classNameBindings: [<span class="string">'isUrgent'</span>],</div><div class="line">  isUrgent: true</div><div class="line">});</div><div class="line"></div><div class="line">&lt;div class=<span class="string">"ember-view is-urgent"</span>&gt;</div><div class="line"></div><div class="line"><span class="filename">App.MyView = Ember.View.extend({</span></div><div class="line">  classNameBindings: [<span class="string">'isUrgent:urgent'</span>],</div><div class="line">  isUrgent: true</div><div class="line">});</div><div class="line"></div><div class="line"><span class="filename">App.MyView = Ember.View.extend({</span></div><div class="line">  classNameBindings: [<span class="string">'isEnabled:enabled:disabled'</span>],</div><div class="line">  isEnabled: false</div><div class="line">});</div><div class="line"></div><div class="line"><span class="filename">App.MyView = Ember.View.extend({</span></div><div class="line">  tagName: <span class="string">'a'</span>,</div><div class="line">  attributeBindings: [<span class="string">'href'</span>],</div><div class="line">  href: <span class="string">"http://emberjs.com"</span></div><div class="line">});</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="variable"><span class="keyword">view</span></span> <span class="string">"info"</span> <span class="variable">tagName</span>=<span class="string">"span"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="variable"><span class="keyword">view</span></span> <span class="string">"info"</span> <span class="variable">id</span>=<span class="string">"info-view"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="variable"><span class="keyword">view</span></span> <span class="string">"alert"</span> <span class="variable">classBinding</span>=<span class="string">"isUrgent priority"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<h3 id="_内建的view"><i class="fa fa-lightbulb-o"></i>  内建的view</h3>
<ul>
<li>Ember.Checkbox</li>
<li>Ember.TextField</li>
<li>Ember.TextArea</li>
<li>Ember.Select</li>
</ul>
<h1 id="Template">Template</h1>
<h1 id="数据枚举_Ember-Enumerable">数据枚举 Ember.Enumerable</h1>
<h3 id="_forEach"><i class="fa fa-lightbulb-o"></i>  <code>forEach</code></h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>].forEach(<span class="function"><span class="keyword">function</span><span class="params">(item)</span> </span>{</div><div class="line">  <span class="built_in">console</span>.log(item);</div><div class="line">  <span class="built_in">console</span>.log(item, <span class="keyword">this</span>.indexOf(item));</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_可枚举的类型"><i class="fa fa-lightbulb-o"></i>  可枚举的类型</h3>
<ul>
<li>Array： 实现纯javascript Array并且实现 Enumerable interface</li>
<li>Ember.ArrayController</li>
<li>Ember.Set</li>
</ul>
<h3 id="_toArray()得到纯javascript数组"><i class="fa fa-lightbulb-o"></i>  <code>toArray()</code>得到纯javascript数组</h3>
<h3 id="_firstObject,_lastObject"><i class="fa fa-lightbulb-o"></i>  <code>firstObject</code>, <code>lastObject</code></h3>
<h3 id="_MAP"><i class="fa fa-lightbulb-o"></i>  MAP</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> words = [<span class="string">"goodbye"</span>, <span class="string">"cruel"</span>, <span class="string">"world"</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> emphaticWords = words.map(<span class="function"><span class="keyword">function</span><span class="params">(item)</span> </span>{</div><div class="line">  <span class="keyword">return</span> item + <span class="string">"!"</span>;</div><div class="line">});</div><div class="line"><span class="comment">// ["goodbye!", "cruel!", "world!"]</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> hawaii = Ember.<span class="built_in">Object</span>.create({</div><div class="line">  capital: <span class="string">"Honolulu"</span></div><div class="line">});</div><div class="line"></div><div class="line"><span class="keyword">var</span> california = Ember.<span class="built_in">Object</span>.create({</div><div class="line">  capital: <span class="string">"Sacramento"</span></div><div class="line">});</div><div class="line"></div><div class="line"><span class="keyword">var</span> states = [hawaii, california];</div><div class="line"></div><div class="line">states.mapBy(<span class="string">'capital'</span>);</div><div class="line"><span class="comment">//=&gt; ["Honolulu", "Sacramento"]</span></div></pre></td></tr></table></figure>

<h3 id="_filter"><i class="fa fa-lightbulb-o"></i>  filter</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>];</div><div class="line"></div><div class="line">arr.filter(<span class="function"><span class="keyword">function</span><span class="params">(item, index, self)</span> </span>{</div><div class="line">  <span class="keyword">if</span> (item &lt; <span class="number">4</span>) { <span class="keyword">return</span> <span class="literal">true</span>; }</div><div class="line">})</div><div class="line"></div><div class="line"><span class="comment">// returns [1,2,3]</span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">Todo = Ember.<span class="built_in">Object</span>.extend({</div><div class="line">  title: <span class="literal">null</span>,</div><div class="line">  isDone: <span class="literal">false</span></div><div class="line">});</div><div class="line"></div><div class="line">todos = [</div><div class="line">  Todo.create({ title: <span class="string">'Write code'</span>, isDone: <span class="literal">true</span> }),</div><div class="line">  Todo.create({ title: <span class="string">'Go to sleep'</span> })</div><div class="line">];</div><div class="line"></div><div class="line">todos.filterBy(<span class="string">'isDone'</span>, <span class="literal">true</span>);</div><div class="line"></div><div class="line"><span class="comment">// returns an Array containing only items with `isDone == true`</span></div></pre></td></tr></table></figure>

<h3 id="_Aggregate"><i class="fa fa-lightbulb-o"></i>  Aggregate</h3>
<p><code>every</code>和<code>some</code>判断集合所有元素或者部分元素是否满足条件。<br>也可以</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">people.isEvery(<span class="string">'isHappy'</span>, <span class="literal">true</span>) // <span class="literal">false</span></div><div class="line">people.isAny(<span class="string">'isHappy'</span>, <span class="literal">true</span>)  // <span class="literal">true</span></div></pre></td></tr></table></figure>

<h1 id="Helper">Helper</h1>
<p><strong> bind class </strong><br>class可以是</p>
<ul>
<li>a string return value of an object&#39;s property. <code>&lt;img \{\{bind-attr \class=&quot;view.someProperty}}&gt;</code></li>
<li>a boolean return value of an object&#39;s property. true插入类名， false移除类名或替换类名 <code>&lt;img \{\{bind-attr \class=&quot;view.someBool:class-name-if-true&quot;}}&gt;</code> <code>&lt;img \{\{bind-attr \class=&quot;view.someBool:class-name-if-true:class-name-if-false&quot;}}&gt;</code></li>
<li>a hard-coded value <code>&lt;img \{\{bind-attr \class=&quot;:class-name-to-always-apply&quot;}}&gt;</code></li>
</ul>
<p>复合型: <code>&lt;img \{\{bind-attr \class=&quot;:class-name-to-always-apply view.someBool:class-name-if-true view.someProperty&quot;}}&gt;</code></p>
<h3 id="_each_helper"><i class="fa fa-lightbulb-o"></i>  <code>each</code> helper</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php">Developers = [{name: <span class="string">'Yehuda'</span>},{name: <span class="string">'Tom'</span>}, {name: <span class="string">'Paul'</span>}];</span></span></span></div><div class="line"></div><div class="line"><span class="expression">{{<span class="begin-block">#<span class="keyword">each</span> Developers</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  <span class="expression">{{<span class="variable">name</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">each</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line"><span class="expression">{{<span class="begin-block">#<span class="keyword">each</span> person <span class="keyword">in</span> Developers</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  <span class="expression">{{<span class="variable">person.name</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">each</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line"><span class="expression">{{<span class="begin-block">#<span class="keyword">each</span> DeveloperNames</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  <span class="expression">{{<span class="variable">this</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">each</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<p>集合为空时使用<code>\{\{#each}}</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">each</span> person <span class="keyword">in</span> Developers</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  <span class="expression">{{<span class="variable">person.name</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="variable"><span class="keyword">else</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  &lt;p&gt;Sorry, nobody is available <span class="keyword">for</span> this task.&lt;/p&gt;</div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">each</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<p>指定渲染用的view</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">view</span> App.MyView </span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  <span class="expression">{{<span class="variable"><span class="keyword">each</span></span> <span class="variable"><span class="keyword">view</span>.items</span> <span class="variable">itemView</span>\<span class="variable">class</span>=<span class="string">"App.AnItemView"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">view</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<p>默认遍历controller的属性，可以指定<code>itemController</code>:</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php">App.DeveloperController = Ember.ObjectController.extend({</span></span></span></div><div class="line">  isAvailableForHire: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">return</span> !this.get(<span class="string">'model.isEmployed'</span>) && this.get(<span class="string">'model.isSeekingWork'</span>);</div><div class="line">  }.property(<span class="string">'isEmployed'</span>, <span class="string">'isSeekingWork'</span>)</div><div class="line">})</div><div class="line"></div><div class="line"></div><div class="line"><span class="expression">{{<span class="begin-block">#<span class="keyword">each</span> person <span class="keyword">in</span> developers itemController</span>=<span class="string">"developer"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  <span class="expression">{{<span class="variable">person.name</span>}}</span><span class="xml"><span class="tag"><span class="php"> </span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">if</span> person.isAvailableForHire</span>}}</span><span class="xml"><span class="tag"><span class="php">Hire me!</span></span></span><span class="expression">{{<span class="end-block">/<span class="keyword">if</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">each</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<h3 id="_if-else"><i class="fa fa-lightbulb-o"></i>  if-else</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">if</span> message.isTypeSuccess</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">	......</div><div class="line"> <span class="expression">{{<span class="variable"><span class="keyword">else</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">	......</div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">if</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<p>另外还提供了<code>unless</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">unless</span> hasPaid</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  You owe: $<span class="expression">{{<span class="variable">total</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">unless</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<h3 id="_outlet"><i class="fa fa-lightbulb-o"></i>  <code>outlet</code></h3>
<p>一个模版占位符。<br>或</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="variable"><span class="keyword">outlet</span></span> '<span class="variable">favoritePost</span>'}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="variable"><span class="keyword">outlet</span></span> '<span class="variable">posts</span>'}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line">App.PostsRoute = Ember.Route.extend({</div><div class="line">  renderTemplate: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    this.render(<span class="string">'favoritePost'</span>, { outlet: <span class="string">'favoritePost'</span> });</div><div class="line">    this.render(<span class="string">'posts'</span>, { outlet: <span class="string">'posts'</span> });</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="variable"><span class="keyword">outlet</span></span> <span class="variable"><span class="keyword">view</span></span>='<span class="variable">sectionContainer</span>'}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line">App.SectionContainer = Ember.ContainerView.extend({</div><div class="line">  tagName: <span class="string">'section'</span>,</div><div class="line">  classNames: [<span class="string">'special'</span>]</div><div class="line">});</div></pre></td></tr></table></figure>

<h3 id="_partial_渲染另外一个页面而不改变上下文"><i class="fa fa-lightbulb-o"></i>  <code>partial</code> 渲染另外一个页面而不改变上下文</h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="variable">foo</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"><span class="expression">{{<span class="variable">partial</span> <span class="string">"nav"</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<h3 id="_render_使用包含的上下文"><i class="fa fa-lightbulb-o"></i>  <code>render</code> 使用包含的上下文</h3>
<p>{{render &quot;navigation&quot;}}</p>
<p>Calling {{render}} from within a template will insert another template that matches the provided name. The inserted template will access its properties on its own controller (rather than the controller of the parent template).</p>
<h3 id="_view"><i class="fa fa-lightbulb-o"></i>  <code>view</code></h3>
<p>{{view}} inserts a new instance of an Ember.View into a template passing its options to the Ember.View&#39;s create method and using the supplied block as the view&#39;s own template.</p>
<h3 id="_view,_partial和render的区别"><i class="fa fa-lightbulb-o"></i>  <code>view</code>, <code>partial</code>和<code>render</code>的区别</h3>
<p><strong>General</strong></p>
<table>
<thead>
<tr>
<th>Helper</th>
<th>Template</th>
<th>Model</th>
<th>View</th>
<th>Controller</th>
</tr>
</thead>
<tbody>
<tr>
<td>{{partial}}</td>
<td>Specified Template</td>
<td>Current Model</td>
<td>Current View</td>
<td>Current Controller</td>
</tr>
<tr>
<td>{{view}}</td>
<td>View&#39;s Template</td>
<td>Current Model</td>
<td>Specified View</td>
<td>Current Controller</td>
</tr>
<tr>
<td>{{render}}</td>
<td>View&#39;s Template</td>
<td>Specified Model</td>
<td>Specified View</td>
<td>Specified Controller</td>
</tr>
</tbody>
</table>
<p><strong>Specific</strong></p>
<table>
<thead>
<tr>
<th>Helper</th>
<th>Template</th>
<th>Model</th>
<th>View</th>
<th>Controller</th>
</tr>
</thead>
<tbody>
<tr>
<td>{{partial &quot;author&quot;}}</td>
<td>author.hbs</td>
<td>Post</td>
<td>App.PostView</td>
<td>App.PostController</td>
</tr>
<tr>
<td>{{view &quot;author&quot;}}</td>
<td>author.hbs</td>
<td>Post</td>
<td>App.AuthorView</td>
<td>App.PostController</td>
</tr>
<tr>
<td>{{render &quot;author&quot; author}}</td>
<td>author.hbs</td>
<td>Author</td>
<td>App.AuthorView     App.AuthorController</td>
</tr>
</tbody>
</table>
<h3 id="_with_changes_scope,_as"><i class="fa fa-lightbulb-o"></i>  <code>with</code> changes scope, <code>as</code></h3>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{<span class="begin-block">#<span class="keyword">with</span> person</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  Welcome back, &lt;b&gt;<span class="expression">{{<span class="variable">firstName</span>}}</span><span class="xml"><span class="tag"><span class="php"> </span></span></span><span class="expression">{{<span class="variable">lastName</span>}}</span><span class="xml"><span class="tag"><span class="php">&lt;/b&gt;!</span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">with</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<h3 id="_link-to"><i class="fa fa-lightbulb-o"></i>  <code>link-to</code></h3>
<p><code>link-to (routeName, context, options) String</code><br>提供tagName: <code>\{\{#link-to &#39;photoGallery&#39; tagName=&quot;li&quot;}}  Great Hamster Photos\{\{/link-to}}</code><br>自动添加<code>\class=&quot;active&quot;</code><br>指定model: <code>\{\{#link-to &#39;photoGallery&#39; aPhoto}}  \{\{aPhoto.title}}\{\{/link-to}}</code>,  for dynamic segments或者多个model或者model id: <code>\{\{#link-to &#39;photoGallery&#39; aPhotoId}}  \{\{aPhoto.title}}\{\{/link-to}}</code></p>
<h3 id="_input"><i class="fa fa-lightbulb-o"></i>  <code>input</code></h3>
<p><code>\{\{input type=&quot;text&quot; value=firstName disabled=entryNotAllowed size=&quot;50&quot;}}</code><br>支持action: <code>\{\{input action=&quot;submit&quot;}}</code><br>支持的actions: <code>enter</code> <code>insert-newline</code> <code>escape-press</code> <code>focus-\in</code> <code>focus-out</code> <code>key-press</code> 如<code>\{\{input focus-\in=&quot;alertMessage&quot;}}</code></p>
<p>checkbox: <code>\{\{input type=&quot;checkbox&quot; name=&quot;isAdmin&quot;}}</code></p>
<h3 id="_自定义helper"><i class="fa fa-lightbulb-o"></i>  自定义<code>helper</code></h3>
<p><strong>简单语法</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Ember.Handlebars.helper(<span class="string">'highlight'</span>, <span class="function"><span class="keyword">function</span><span class="params">(value, options)</span> </span>{</div><div class="line">  <span class="keyword">var</span> escaped = Handlebars.Utils.escapeExpression(value);</div><div class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Ember.Handlebars.SafeString(<span class="string">'&lt;span \class="highlight"&gt;'</span> + escaped + <span class="string">'&lt;/span&gt;'</span>);</div><div class="line">});</div></pre></td></tr></table></figure>

<p>使用<code>\{\{highlight name}}</code></p>
<p><strong>依赖参数</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Ember.Handlebars.helper(<span class="string">'fullName'</span>, <span class="function"><span class="keyword">function</span><span class="params">(person)</span> </span>{</div><div class="line">  <span class="keyword">return</span> person.<span class="keyword">get</span>(<span class="string">'firstName'</span>) + <span class="string">' '</span> + person.<span class="keyword">get</span>(<span class="string">'lastName'</span>);</div><div class="line">}, <span class="string">'firstName'</span>, <span class="string">'lastName'</span>);</div></pre></td></tr></table></figure>

<p>使用{{fullName person}}</p>
<p><strong>定制view helper</strong></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Ember.Handlebars.helper(<span class="string">'calendar'</span>, App.CalendarView);</div></pre></td></tr></table></figure>

<p>使用<code>\{\{calendar}}</code>或者<code>\{\{view &quot;calendar&quot;}}</code></p>
<h1 id="Component">Component</h1>
<h3 id="_HTML代码代替hbs模版"><i class="fa fa-lightbulb-o"></i>  HTML代码代替hbs模版</h3>
<p>在Component和View的实现时，可以直接使用<code>Ember.Handlebars.compile</code>直接写HTML代码，不用定义一个hbs模版文件。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span>: <span class="type">Ember</span>.<span class="type">Handlebars</span>.compile(<span class="string">"Greetings {{name}}"</span>)</div></pre></td></tr></table></figure>

<h3 id="_定义组件"><i class="fa fa-lightbulb-o"></i>  定义组件</h3>
<ol>
<li>template必须以<code>components/</code>开头。比如组件<code>0</code>的模版为<code>components/blog-post</code></li>
<li>组件名必须包含破折号dash 。<code>blog-post</code>合法但是<code>post</code>不合法。</li>
<li>继承<code>Ember.Component</code>或子类。 <code>blog-post</code>的类为<code>App.BlogPostComponent</code></li>
</ol>
<h3 id="组件的钩子(Hook)函数">组件的钩子(Hook)函数</h3>
<h3 id="_传给组件参数"><i class="fa fa-lightbulb-o"></i>  传给组件参数</h3>
<p><code>\{\{blog-post title=name}}</code>, name是外部对象的属性<br>一句话<code>componentProperty=outerProperty</code></p>
<h3 id="_定制组件的属性"><i class="fa fa-lightbulb-o"></i>  定制组件的属性</h3>
<p>类似view。 </p>
<h3 id="_从组件发送action给其它应用"><i class="fa fa-lightbulb-o"></i>  从组件发送action给其它应用</h3>
<p>When a component is used inside a template, it has the ability to send actions to that template&#39;s controller and routes. These allow the component to inform the application when important events, such as the user clicking a particular element in a component, occur.<br>组件<code>\{\{my-button action=&quot;showUser&quot;}}</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">App.MyButtonComponent = Ember.Component.extend({</div><div class="line">  click: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">    <span class="keyword">this</span>.sendAction();</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>

<p>`this.sendAction(&#39;action&#39;, param1, param2);</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">App.ConfirmButtonComponent = Ember.Component.extend({</div><div class="line">  actions: {</div><div class="line">    showConfirmation: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">      <span class="keyword">this</span>.toggleProperty(<span class="string">'isShowingConfirmation'</span>); </div><div class="line">    },</div><div class="line"></div><div class="line">    confirm: <span class="function"><span class="keyword">function</span><span class="params">()</span> </span>{</div><div class="line">      <span class="keyword">this</span>.toggleProperty(<span class="string">'isShowingConfirmation'</span>);</div><div class="line">      <span class="keyword">this</span>.sendAction(<span class="string">'deleteAction'</span>, <span class="keyword">this</span>.<span class="keyword">get</span>(<span class="string">'param'</span>));</div><div class="line">    }</div><div class="line">  }</div><div class="line">});</div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{! <span class="variable">templates</span><span class="end-block">/components</span><span class="end-block">/confirm-button.handlebars </span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line"><span class="expression">{{<span class="begin-block">#<span class="keyword">if</span> isShowingConfirmation</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  &lt;button <span class="expression">{{<span class="variable"><span class="keyword">action</span></span> <span class="string">"confirm"</span>}}</span><span class="xml"><span class="tag"><span class="php">&gt;Click again to confirm&lt;/button&gt;</span></span></span></div><div class="line"><span class="expression">{{<span class="variable"><span class="keyword">else</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">  &lt;button <span class="expression">{{<span class="variable"><span class="keyword">action</span></span> <span class="string">"showConfirmation"</span>}}</span><span class="xml"><span class="tag"><span class="php">&gt;</span></span></span><span class="expression">{{<span class="variable">title</span>}}</span><span class="xml"><span class="tag"><span class="php">&lt;/button&gt;</span></span></span></div><div class="line"><span class="expression">{{<span class="end-block">/<span class="keyword">if</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>



<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="xml"><span class="tag"><span class="php"></span></span></span><span class="expression">{{! <span class="variable">index.handlebars</span> }}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line"></div><div class="line">    <span class="expression">{{<span class="begin-block">#<span class="keyword">each</span> todo <span class="keyword">in</span> todos</span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div><div class="line">      &lt;p&gt;<span class="expression">{{<span class="variable">todo.title</span>}}</span><span class="xml"><span class="tag"><span class="php"> </span></span></span><span class="expression">{{<span class="variable">confirm-button</span> <span class="variable">title</span>=<span class="string">"Delete"</span> <span class="variable">deleteAction</span>=<span class="string">"deleteTodo"</span> <span class="variable">param</span>=<span class="variable">todo</span>}}</span><span class="xml"><span class="tag"><span class="php">&lt;/p&gt;</span></span></span></div><div class="line">    <span class="expression">{{<span class="end-block">/<span class="keyword">each</span></span>}}</span><span class="xml"><span class="tag"><span class="php"></span></span></span></div></pre></td></tr></table></figure>

<p>多action: <code>\{\{user-form submit=&quot;createUser&quot; cancel=&quot;cancelUserCreation&quot;}}</code></p>

      
    </div>
    <footer class="article-footer">
	
<div class="bdsharebuttonbox"><a title="分享到新浪微博" class="bds_tsina" href="#" data-cmd="tsina"></a><a title="分享到微信" class="bds_weixin" href="#" data-cmd="weixin"></a><a title="分享到QQ空间" class="bds_qzone" href="#" data-cmd="qzone"></a><a title="分享到印象笔记" class="bds_evernotecn" href="#" data-cmd="evernotecn"></a><a title="分享到有道云笔记" class="bds_youdao" href="#" data-cmd="youdao"></a><a title="分享到百度云收藏" class="bds_bdysc" href="#" data-cmd="bdysc"></a><a class="bds_more" href="#" data-cmd="more"></a></div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>
      

	  
        <a href="http://colobu.com/2014/09/26/Emberjs-tips-tricks-and-best-practices/#comments" class="article-comment-link">评论</a>
      

      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Ember/">Ember</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2014/09/26/best-free-website-speed-testing-tools/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          最佳免费的网站性能测试工具
        
      </div>
    </a>
  
  
    <a href="/2014/09/25/android-activity-lifecycle/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">android Activity 生命周期详解</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div class="ds-thread" data-thread-key="2014/09/26/Emberjs-tips-tricks-and-best-practices/" data-title="Ember.js 技巧、诀窍和最佳实践" data-url="http://colobu.com/2014/09/26/Emberjs-tips-tricks-and-best-practices/"></div>

</section>

</section>
        
          <aside id="sidebar">
  
      <div class="widget-wrap">
    <h3 class="widget-title">原创图书</h3>
    <div class="widget">
      <a href="/ScalaCollectionsCookbook/">
        <img width="100%" src="/ScalaCollectionsCookbook/scala_collections_cookbook.jpg">
        <img width="100%" src="/ScalaCollectionsCookbook/scala_collections_cookbook_tw.png">
      </a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DOTNET/">DOTNET</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Go/">Go</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">58</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">6</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Scala/">Scala</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/">前端开发</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">54</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">15</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">21</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/管理/">管理</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络编程/">网络编程</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维/">运维</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/高并发编程/">高并发编程</a><span class="category-list-count">20</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/Android/" style="font-size: 15.71px;">Android</a><a href="/tags/ApacheBench/" style="font-size: 11.43px;">ApacheBench</a><a href="/tags/Bower/" style="font-size: 10.00px;">Bower</a><a href="/tags/C/" style="font-size: 10.00px;">C#</a><a href="/tags/CDN/" style="font-size: 10.00px;">CDN</a><a href="/tags/CQRS/" style="font-size: 10.00px;">CQRS</a><a href="/tags/CRC/" style="font-size: 10.00px;">CRC</a><a href="/tags/CSS/" style="font-size: 11.43px;">CSS</a><a href="/tags/CompletableFuture/" style="font-size: 10.00px;">CompletableFuture</a><a href="/tags/Comsat/" style="font-size: 10.00px;">Comsat</a><a href="/tags/Curator/" style="font-size: 20.00px;">Curator</a><a href="/tags/DSL/" style="font-size: 10.00px;">DSL</a><a href="/tags/Disruptor/" style="font-size: 10.00px;">Disruptor</a><a href="/tags/Docker/" style="font-size: 11.43px;">Docker</a><a href="/tags/Ember/" style="font-size: 11.43px;">Ember</a><a href="/tags/FastJson/" style="font-size: 10.00px;">FastJson</a><a href="/tags/Fiber/" style="font-size: 10.00px;">Fiber</a><a href="/tags/GAE/" style="font-size: 10.00px;">GAE</a><a href="/tags/GC/" style="font-size: 12.86px;">GC</a><a href="/tags/Gnuplot/" style="font-size: 10.00px;">Gnuplot</a><a href="/tags/Go/" style="font-size: 11.43px;">Go</a><a href="/tags/Gradle/" style="font-size: 10.00px;">Gradle</a><a href="/tags/Grunt/" style="font-size: 10.00px;">Grunt</a><a href="/tags/Gulp/" style="font-size: 10.00px;">Gulp</a><a href="/tags/Hadoop/" style="font-size: 10.00px;">Hadoop</a><a href="/tags/Hazelcast/" style="font-size: 10.00px;">Hazelcast</a><a href="/tags/Ignite/" style="font-size: 10.00px;">Ignite</a><a href="/tags/JVM/" style="font-size: 10.00px;">JVM</a><a href="/tags/Java/" style="font-size: 17.14px;">Java</a><a href="/tags/Kafka/" style="font-size: 18.57px;">Kafka</a><a href="/tags/Lambda/" style="font-size: 14.29px;">Lambda</a><a href="/tags/Linux/" style="font-size: 12.86px;">Linux</a><a href="/tags/LongAdder/" style="font-size: 10.00px;">LongAdder</a><a href="/tags/MathJax/" style="font-size: 10.00px;">MathJax</a><a href="/tags/Maven/" style="font-size: 11.43px;">Maven</a><a href="/tags/Memcached/" style="font-size: 10.00px;">Memcached</a><a href="/tags/Metrics/" style="font-size: 10.00px;">Metrics</a><a href="/tags/Mongo/" style="font-size: 12.86px;">Mongo</a><a href="/tags/Netty/" style="font-size: 15.71px;">Netty</a><a href="/tags/Node/" style="font-size: 10.00px;">Node</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">1</span></li></ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">近期文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/12/24/a-featured-fsm/">一个有特色的有限状态机</a>
          </li>
        
          <li>
            <a href="/2016/12/21/how-to-dump-goroutine-stack-traces/">调试利器：dump goroutine 的 stacktrace</a>
          </li>
        
          <li>
            <a href="/2016/12/20/detect-and-link-references-in-github/">Github和gitlab的自动连接</a>
          </li>
        
          <li>
            <a href="/2016/12/10/Food-Chain-of-Premier-League/">使用算法检测英超中的食物链</a>
          </li>
        
          <li>
            <a href="/2016/12/04/smooth-weighted-round-robin-algorithm/">平滑的基于权重的轮询算法</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">友情链接</h3>
    <div class="widget">
      <ul>
        
          <li>
			 
            <a href="http://old.colobu.com" target="_blank">旧的博客</a>
			
          </li>
        
          <li>
			 
			&nbsp;
			
          </li>
        
          <li>
			 
            <a href="http://stackshare.io" target="_blank">技术栈</a>
			
          </li>
        
          <li>
			 
			&nbsp;
			
          </li>
        
          <li>
			 
            <a href="http://weekly.manong.io/issues/" target="_blank">码农周刊</a>
			
          </li>
        
          <li>
			 
            <a href="http://www.tuicool.com/mags" target="_blank">编程狂人周刊</a>
			
          </li>
        
          <li>
			 
            <a href="http://www.importnew.com/" target="_blank">importnew</a>
			
          </li>
        
          <li>
			 
            <a href="http://ifeve.com/" target="_blank">并发编程网</a>
			
          </li>
        
          <li>
			 
			&nbsp;
			
          </li>
        
          <li>
			 
            <a href="http://github.com" target="_blank">github</a>
			
          </li>
        
          <li>
			 
            <a href="http://stackoverflow.com/" target="_blank">stackoverflow</a>
			
          </li>
        
          <li>
			 
            <a href="http://www.javacodegeeks.com/" target="_blank">javacodegeeks</a>
			
          </li>
        
          <li>
			 
            <a href="http://www.infoq.com/" target="_blank">infoq</a>
			
          </li>
        
          <li>
			 
            <a href="http://www.dzone.com/links/index.html" target="_blank">dzone</a>
			
          </li>
        
          <li>
			 
            <a href="https://oj.leetcode.com/problems/" target="_blank">leetcode</a>
			
          </li>
        
          <li>
			 
			&nbsp;
			
          </li>
        
          <li>
			 
            <a href="http://www.503error.com/" target="_blank">503error</a>
			
          </li>
        
      </ul>
    </div>
  </div>

  
      <div class="widget-wrap">
    <h3 class="widget-title">热评文章</h3>
    <div class="widget">
		<div class="ds-top-threads" data-range="monthly" data-num-items="5"></div>
    </div>
  </div>

  
      <div class="widget-wrap">
    <h3 class="widget-title">最新评论</h3>
    <div class="widget">
		<ul class="ds-recent-comments" data-num-items="10" data-show-avatars="1" data-show-time="1" data-show-admin="1" data-excerpt-length="70"></ul>
		<script type="text/javascript">
		var duoshuoQuery = {short_name:"colobu"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = 'http://static.duoshuo.com/embed.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
		</script>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 smallnest<br>
	  Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">首页</a>
  
    <a href="/archives" class="mobile-nav-link">归档</a>
  
    <a href="https://github.com/smallnest" class="mobile-nav-link">github</a>
  
    <a href="http://tr.colobu.com" class="mobile-nav-link">技术流</a>
  
    <a href="/ScalaCollectionsCookbook" class="mobile-nav-link">Scala集合技术手册</a>
  
    <a href="/techreview" class="mobile-nav-link">技术快报</a>
  
    <a href="/about" class="mobile-nav-link">关于</a>
  
</nav>
    
<script src="//cdn.staticfile.org/jquery/1.11.1/jquery.min.js"></script>
<script src="//cdn.bootcss.com/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>

<script src="//libs.cncdn.cn/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


<script src="/js/script.js" type="text/javascript"></script>

<!-- mathjax config similar to math.stackexchange -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
  });
  MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
      for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';
      }
  });
</script>
<script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.6.0-beta.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

<div id="totop" style="position:fixed;bottom:150px;right:10px;cursor: pointer;z-index: 2000;">
	<a title="返回顶部"><img src="/images/scrollup.png"/></a>
</div>
<script src="/js/totop.js" type="text/javascript"></script>



<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-142561-4']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>


<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?e085d87993250aab11f3e0c15f1c2785";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>


  </div>
</body>
</html>