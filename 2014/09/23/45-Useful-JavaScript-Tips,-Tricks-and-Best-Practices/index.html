<!DOCTYPE html><html><head><meta charset="utf-8"><title>45个实用的JavaScript技巧、窍门和最佳实践</title><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1"><meta name="description" content="如你所知，JavaScript是世上编程语言的Number One (编者按： 原文如此), 用来编写Web和移动混合应用（比如PhoneGap或者Appcelerator）， 也可以编写服务器端的程序（比如NodeJS或者Wakanda），并且拥有很多其他的实现。 它也是很多新手进入编程世界的启蒙语言，因为它不但可以在浏览器上显示一个简单的alert信息，而且还可以用来控制一个机器人（使用nod"><meta property="og:type" content="article"><meta property="og:title" content="45个实用的JavaScript技巧、窍门和最佳实践"><meta property="og:url" content="https://colobu.com/2014/09/23/45-Useful-JavaScript-Tips,-Tricks-and-Best-Practices/"><meta property="og:site_name" content="鸟窝"><meta property="og:description" content="如你所知，JavaScript是世上编程语言的Number One (编者按： 原文如此), 用来编写Web和移动混合应用（比如PhoneGap或者Appcelerator）， 也可以编写服务器端的程序（比如NodeJS或者Wakanda），并且拥有很多其他的实现。 它也是很多新手进入编程世界的启蒙语言，因为它不但可以在浏览器上显示一个简单的alert信息，而且还可以用来控制一个机器人（使用nod"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="45个实用的JavaScript技巧、窍门和最佳实践"><meta name="twitter:description" content="如你所知，JavaScript是世上编程语言的Number One (编者按： 原文如此), 用来编写Web和移动混合应用（比如PhoneGap或者Appcelerator）， 也可以编写服务器端的程序（比如NodeJS或者Wakanda），并且拥有很多其他的实现。 它也是很多新手进入编程世界的启蒙语言，因为它不但可以在浏览器上显示一个简单的alert信息，而且还可以用来控制一个机器人（使用nod"><link rel="alternative" href="/atom.xml" title="鸟窝" type="application/atom+xml"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/style.css" type="text/css"><link href="//cdn.staticfile.org/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/css/jquery.fancybox.min.css" media="screen" type="text/css"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" media="screen" type="text/css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/tonsky/FiraCode@1.207/distr/fira_code.css"></head><body><div id="container"><div id="wrap"><header id="header"><div id="banner"></div><div id="header-outer" class="outer"><div id="header-title" class="inner"><h1 id="logo-wrap" class="animated bounceInLeft"><a href="/" id="logo">鸟窝</a></h1><h2 id="subtitle-wrap" class="animated bounceInLeft"><a href="/" id="subtitle">大道至简 Simplicity is the ultimate form of sophistication</a></h2></div><div id="header-inner" class="inner"><nav id="main-nav"><a id="main-nav-toggle" class="nav-icon"></a> <a class="main-nav-link" href="/"><i class="fa fa-home">&nbsp;</i>首页</a> <a class="main-nav-link" href="/archives"><i class="fa fa-folder-o">&nbsp;</i>归档</a> <a class="main-nav-link" href="https://github.com/smallnest"><i class="fa fa-github">&nbsp;</i>github</a><div class="dropdown main-nav-link"><a class="main-nav-link" href="#"><i class="fa fa-bars">&nbsp;</i>网站群</a><div class="dropdown-content"><a href="/goasm"><i class="fa fa-language"></i>&nbsp;Go汇编示例</a> <a href="https://gowebexamples.com"><i class="fa fa-external-link"></i>&nbsp;Go Web开发示例</a> <a href="http://go-database-sql.org"><i class="fa fa-external-link"></i>&nbsp;Go 数据库开发教程</a><hr><a href="http://rpcx.io"><i class="fa undefined"></i>&nbsp;RPCX官网</a> <a href="http://cn.doc.rpcx.io"><i class="fa undefined"></i>&nbsp;RPC开发指南</a></div></div><a class="main-nav-link" href="/ScalaCollectionsCookbook"><i class="fa fa-book">&nbsp;</i>Scala集合技术手册</a> <a class="main-nav-link" href="/about"><i class="fa fa-lemon-o">&nbsp;</i>关于</a></nav><nav id="sub-nav"><a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a> <a id="nav-search-btn" class="nav-icon" title="Search"></a></nav><div id="search-form-wrap"><form action="http://www.baidu.com/baidu" method="get" accept-charset="utf-8" class="search-form"><input type="search" name="word" maxlength="20" class="search-form-input" placeholder="Search"> <input type="submit" class="search-form-submit"> <input name="tn" type="hidden" value="bds"> <input name="cl" type="hidden" value="3"> <input name="ct" type="hidden" value="2097152"> <input type="hidden" name="si" value="colobu.com"></form></div></div></div></header><div class="outer"><section id="main"><article id="post-45-Useful-JavaScript-Tips,-Tricks-and-Best-Practices" class="article article-type-post" itemscope itemprop="blogPost"><div class="article-meta"><a href="/2014/09/23/45-Useful-JavaScript-Tips,-Tricks-and-Best-Practices/" class="article-date"><time datetime="2014-09-23T09:23:07.000Z" itemprop="datePublished">2014年09月23日</time></a><div class="article-category"><a class="article-category-link" href="/categories/前端开发/">前端开发</a></div><div class="article-author">by Saad Mousliki</div></div><div class="article-inner"><header class="article-header"><h1 class="article-title" itemprop="name">45个实用的JavaScript技巧、窍门和最佳实践</h1></header><div class="article-entry" itemprop="articleBody"><h1 id="expanderHead" style="cursor:pointer">目录 <span id="expanderSign">[−]</span></h1><div id="article-entry-toc" data-role="collapsible" class="article-entry-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#列表"><span class="toc-text">列表</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_第一次给变量赋值时莫忘使用_var关键字-"><span class="toc-text">第一次给变量赋值时莫忘使用 var关键字.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用_===_而不是_=="><span class="toc-text">使用 === 而不是 ==</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_undefined,_null,_0,_false,_NaN,_''_(empty_string)_都是false-"><span class="toc-text">undefined, null, 0, false, NaN, '' (empty string) 都是false.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_行尾使用分号"><span class="toc-text">行尾使用分号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_创建对象的构造函数"><span class="toc-text">创建对象的构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用_typeof,_instanceof_和_constructor要万分小心-"><span class="toc-text">使用 typeof, instanceof 和 constructor要万分小心.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_创建一个自调用的函数_Self-calling_Function"><span class="toc-text">创建一个自调用的函数 Self-calling Function</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_从数组中随机选取一个元素"><span class="toc-text">从数组中随机选取一个元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_得到一个特定范围的随机值"><span class="toc-text">得到一个特定范围的随机值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_生成一个[0,max]范围的数组"><span class="toc-text">生成一个[0,max]范围的数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_生成随机字符/数字的数组"><span class="toc-text">生成随机字符/数字的数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_打乱数组"><span class="toc-text">打乱数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_字符串的trim函数"><span class="toc-text">字符串的trim函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_将一个数组附加到另外一个数组上:_append函数"><span class="toc-text">将一个数组附加到另外一个数组上: append函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_将arguments_对象转为数组"><span class="toc-text">将arguments 对象转为数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_校验参数是否为数字"><span class="toc-text">校验参数是否为数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_校验参数是否为数组"><span class="toc-text">校验参数是否为数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_得到数组的最大或者最小元素"><span class="toc-text">得到数组的最大或者最小元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_清空数组"><span class="toc-text">清空数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_不要使用delete方法删除数组的元素"><span class="toc-text">不要使用delete方法删除数组的元素</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_设置length实现截短数组"><span class="toc-text">设置length实现截短数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用逻辑_AND/_OR_作为条件判断"><span class="toc-text">使用逻辑 AND/ OR 作为条件判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用map()函数遍历数组"><span class="toc-text">使用map()函数遍历数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_四舍五入，_保留_N位小数"><span class="toc-text">四舍五入， 保留 N位小数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_浮点数问题"><span class="toc-text">浮点数问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用for-in循环检查对象的属性时需要注意"><span class="toc-text">使用for-in循环检查对象的属性时需要注意</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_逗号操作符"><span class="toc-text">逗号操作符</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_缓存需要查询或者计算的变量"><span class="toc-text">缓存需要查询或者计算的变量</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_传给isFinite()的参数需要校验"><span class="toc-text">传给isFinite()的参数需要校验</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_避免数组的索引为负值"><span class="toc-text">避免数组的索引为负值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_JSON的序列化和反序列化"><span class="toc-text">JSON的序列化和反序列化</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_避免使用_eval()_或者Function的构造函数"><span class="toc-text">避免使用 eval() 或者Function的构造函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_避免使用_with()_(The_good_part)"><span class="toc-text">避免使用 with() (The good part)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_避免使用for-in遍历数组"><span class="toc-text">避免使用for-in遍历数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_调用setTimeout()_和_setInterval()时传入函数而不是函数的字符串名字"><span class="toc-text">调用setTimeout() 和 setInterval()时传入函数而不是函数的字符串名字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用_switch/case_statement_而不是一堆的_if/else"><span class="toc-text">使用 switch/case statement 而不是一堆的 if/else</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_使用数字返回做switch/case_的条件判断"><span class="toc-text">使用数字返回做switch/case 的条件判断</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_为创建的对象指定prototype"><span class="toc-text">为创建的对象指定prototype</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_HTML_转义函数"><span class="toc-text">HTML 转义函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_不要在循环内部使用try-catch-finally"><span class="toc-text">不要在循环内部使用try-catch-finally</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_为XMLHttpRequests设置超时"><span class="toc-text">为XMLHttpRequests设置超时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_处理WebSocket_超时"><span class="toc-text">处理WebSocket 超时</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_牢记，原始运算符始终比函数调用要高效。使用VanillaJS。"><span class="toc-text">牢记，原始运算符始终比函数调用要高效。使用VanillaJS。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_编码时不要忘记使用代码美化工具-_发布前使用JSLint_和_minification_(如JSMin)-"><span class="toc-text">编码时不要忘记使用代码美化工具. 发布前使用JSLint 和 minification (如JSMin).</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_JavaScript如此美好，快来看看学习的一些资源吧"><span class="toc-text">JavaScript如此美好，快来看看学习的一些资源吧</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#结尾"><span class="toc-text">结尾</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#参考"><span class="toc-text">参考</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#附加技巧"><span class="toc-text">附加技巧</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#_两个感叹号"><span class="toc-text">两个感叹号</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_把数字变字符串，_把字符串变数字"><span class="toc-text">把数字变字符串， 把字符串变数字</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#把数组转换成CSV字符串"><span class="toc-text">把数组转换成CSV字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_转换CSV字符串为数组"><span class="toc-text">转换CSV字符串为数组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_移除数组指定索引"><span class="toc-text">移除数组指定索引</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_移除数组特定的值"><span class="toc-text">移除数组特定的值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_根据方法名调用方法"><span class="toc-text">根据方法名调用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_检查Form_是否dirty"><span class="toc-text">检查Form 是否dirty</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_检查字符串是否包含子串"><span class="toc-text">检查字符串是否包含子串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_移除数组的重复数据"><span class="toc-text">移除数组的重复数据</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_记不住apply和call的区别"><span class="toc-text">记不住apply和call的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#_双波浪号~~是取整"><span class="toc-text">双波浪号~~是取整</span></a></li></ol></li></div><script>function show_answer(e,l){"显示答案"===e.value?e.value="隐藏答案":e.value="显示答案";var n=document.getElementById(l);"none"===n.style.display?n.style.display="block":n.style.display="none"}</script><p>如你所知，JavaScript是世上编程语言的Number One (编者按： 原文如此), 用来编写Web和移动混合应用（比如PhoneGap或者Appcelerator）， 也可以编写服务器端的程序（比如NodeJS或者Wakanda），并且拥有很多其他的实现。 它也是很多新手进入编程世界的启蒙语言，因为它不但可以在浏览器上显示一个简单的alert信息，而且还可以用来控制一个机器人（使用nodebot，或者nodruino）。掌握JavaScript并且能够写出规范并性能高效代码的开发人员，已经成为人才市场上的猎寻目标。</p><p>在这篇文章中，Saad Mousliki将分享一组JavaScript的技巧、窍门和最佳实践，这些都是JavaScript程序员应该知晓的，不管他们是使用在浏览器/引擎上，还是服务器端（SSJS Service Side JavaScript）JavaScript解释器上。</p><p>需要注意的是，这篇文章中的代码片段都在最新的Google Chrome（版本号30）上测试过，它使用V8 JavaScript引擎（V8 3.20.17.15）</p><a id="more"></a><p>英文原址: <a href="http://modernweb.com/2013/12/23/45-useful-javascript-tips-tricks-and-best-practices/" target="_blank" rel="external">45 Useful JavaScript Tips, Tricks and Best Practices</a></p><h1 id="列表">列表</h1><h3 id="_第一次给变量赋值时莫忘使用_var关键字-"><i class="fa fa-lightbulb-o"></i> 第一次给变量赋值时莫忘使用 <code>var</code>关键字.</h3><p>给一个未声明的变量赋值会自动产生一个全局的变量。 避免全局变量。</p><h3 id="_使用_===_而不是_=="><i class="fa fa-lightbulb-o"></i> 使用 === 而不是 ==</h3><p>操作符 == (或者 !=) 执行自动的类型转换. 操作符 === (或 !==) 不会执行任何转换，它会比较值和类型， 并且被认为比 == 更快.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">[<span class="number">10</span>] === <span class="number">10</span>    <span class="comment">// is false</span></div><div class="line">[<span class="number">10</span>]  == <span class="number">10</span>    <span class="comment">// is true</span></div><div class="line"><span class="string">'10'</span> == <span class="number">10</span>     <span class="comment">// is true</span></div><div class="line"><span class="string">'10'</span> === <span class="number">10</span>    <span class="comment">// is false</span></div><div class="line"> []   == <span class="number">0</span>     <span class="comment">// is true</span></div><div class="line"> [] ===  <span class="number">0</span>     <span class="comment">// is false</span></div><div class="line"> <span class="string">''</span> == <span class="literal">false</span>   <span class="comment">// is true but true == "a" is false</span></div><div class="line"> <span class="string">''</span> ===   <span class="literal">false</span> <span class="comment">// is false</span></div></pre></td></tr></table></figure><h3 id="_undefined,_null,_0,_false,_NaN,_&#39;&#39;_(empty_string)_都是false-"><i class="fa fa-lightbulb-o"></i> undefined, null, 0, false, NaN, &#39;&#39; (empty string) 都是false.</h3><h3 id="_行尾使用分号"><i class="fa fa-lightbulb-o"></i> 行尾使用分号</h3><p>行尾使用分号是一个好的习惯。 尽管如果忘了加也不会被警告， 因为大部分情况 JavaScript解析器会自动加上。 这篇文章描述了为什么要加分号的细节: <a href="http://davidwalsh.name/javascript-semicolons" target="_blank" rel="external">http://davidwalsh.name/javascript-semicolons</a>.</p><h3 id="_创建对象的构造函数"><i class="fa fa-lightbulb-o"></i> 创建对象的构造函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span><span class="params">(firstName, lastName)</span></span>{</div><div class="line">    <span class="keyword">this</span>.firstName =  firstName;</div><div class="line">    <span class="keyword">this</span>.lastName = lastName;        </div><div class="line">} </div><div class="line"><span class="keyword">var</span> Saad = <span class="keyword">new</span> Person(<span class="string">"Saad"</span>, <span class="string">"Mousliki"</span>);</div></pre></td></tr></table></figure><h3 id="_使用_typeof,_instanceof_和_constructor要万分小心-"><i class="fa fa-lightbulb-o"></i> 使用 typeof, instanceof 和 constructor要万分小心.</h3><ul><li>typeof : 一个JavaScript的一元操作符， 返回代表一个变量的原始primitive类型的字符串。 别忘了typeof null 返回 “object”, 并且大部分的object类型 (Array, Date, and others) 也返回 “object”.</li><li>constructor : 一个内部prototype属性， 可以被覆盖。</li><li>instanceof : 另一个JavaScript运算符， 用来在所有的prototype链的constructor。 如果找到返回true,否则false.</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</div><div class="line"><span class="keyword">typeof</span> arr;   <span class="comment">// return "object" </span></div><div class="line">arr  <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">// true</span></div><div class="line">arr.constructor();  <span class="comment">//[]</span></div></pre></td></tr></table></figure><h3 id="_创建一个自调用的函数_Self-calling_Function"><i class="fa fa-lightbulb-o"></i> 创建一个自调用的函数 Self-calling Function</h3><p>常被称作自调用匿名函数Self-Invoked Anonymous Function或者立即调用函数表达式Immediately Invoked Function Expression (IIFE). 它是这样一个函数：当创建时会自动执行。格式如下:</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{</div><div class="line">    <span class="comment">// some private code that will be executed automatically</span></div><div class="line">})();  </div><div class="line">(<span class="function"><span class="keyword">function</span><span class="params">(a,b)</span></span>{</div><div class="line">    <span class="keyword">var</span> result = a+b;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">})(<span class="number">10</span>,<span class="number">20</span>)</div></pre></td></tr></table></figure><h3 id="_从数组中随机选取一个元素"><i class="fa fa-lightbulb-o"></i> 从数组中随机选取一个元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> items = [<span class="number">12</span>, <span class="number">548</span> , <span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> , <span class="number">2145</span> , <span class="number">119</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span>  randomItem = items[<span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * items.length)];</div></pre></td></tr></table></figure><h3 id="_得到一个特定范围的随机值"><i class="fa fa-lightbulb-o"></i> 得到一个特定范围的随机值</h3><p>This code snippet can be useful when trying to generate fake data for testing purposes, such as a salary between min and max.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> x = <span class="built_in">Math</span>.floor(<span class="built_in">Math</span>.random() * (max - min + <span class="number">1</span>)) + min;</div></pre></td></tr></table></figure><h3 id="_生成一个[0,max]范围的数组"><i class="fa fa-lightbulb-o"></i> 生成一个[0,max]范围的数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbersArray = [] , max = <span class="number">100</span>;</div><div class="line"><span class="keyword">for</span>( <span class="keyword">var</span> i=<span class="number">1</span>; numbersArray.push(i++) &lt; max;);  <span class="comment">// numbers = [1,2,3 ... 100]</span></div></pre></td></tr></table></figure><p>javascript</p><h3 id="_生成随机字符/数字的数组"><i class="fa fa-lightbulb-o"></i> 生成随机字符/数字的数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">generateRandomAlphaNum</span><span class="params">(len)</span> </span>{</div><div class="line">    <span class="keyword">var</span> rdmString = <span class="string">""</span>;</div><div class="line">    <span class="keyword">for</span>( ; rdmString.length &lt; len; rdmString  += <span class="built_in">Math</span>.random().toString(<span class="number">36</span>).substr(<span class="number">2</span>));</div><div class="line">    <span class="keyword">return</span>  rdmString.substr(<span class="number">0</span>, len);</div><div class="line"></div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_打乱数组"><i class="fa fa-lightbulb-o"></i> 打乱数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbers = [<span class="number">5</span>, <span class="number">458</span> , <span class="number">120</span> , -<span class="number">215</span> , <span class="number">228</span> , <span class="number">400</span> , <span class="number">122205</span>, -<span class="number">85411</span>];</div><div class="line">numbers = numbers.sort(<span class="function"><span class="keyword">function</span><span class="params">()</span></span>{ <span class="keyword">return</span> <span class="built_in">Math</span>.random() - <span class="number">0.5</span>});</div><div class="line"><span class="comment">/* the array numbers will be equal for example to [120, 5, 228, -215, 400, 458, -85411, 122205]  */</span></div></pre></td></tr></table></figure><p>A better option could be to implement a random sort order by code (e.g. : Fisher-Yates shuffle), than using the native sort JavaScript function. For more details take a look to this discussion.</p><h3 id="_字符串的trim函数"><i class="fa fa-lightbulb-o"></i> 字符串的trim函数</h3><p>The classic trim function of Java, C#, PHP and many other language that remove whitespace from a string doesn’t exist in JavaScript, so we could add it to the String object.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">String</span>.prototype.trim = <span class="function"><span class="keyword">function</span><span class="params">()</span></span>{<span class="keyword">return</span> <span class="keyword">this</span>.replace(<span class="regexp">/^\s+|\s+$/g</span>, <span class="string">""</span>);};</div></pre></td></tr></table></figure><p>A native implementation of the trim() function is available in the recent JavaScript engines.</p><h3 id="_将一个数组附加到另外一个数组上:_append函数"><i class="fa fa-lightbulb-o"></i> 将一个数组附加到另外一个数组上: append函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> array1 = [<span class="number">12</span> , <span class="string">"foo"</span> , {name <span class="string">"Joe"</span>} , -<span class="number">2458</span>];</div><div class="line"></div><div class="line"><span class="keyword">var</span> array2 = [<span class="string">"Doe"</span> , <span class="number">555</span> , <span class="number">100</span>];</div><div class="line"><span class="built_in">Array</span>.prototype.push.apply(array1, array2);</div><div class="line"><span class="comment">/* array1 will be equal to  [12 , "foo" , {name "Joe"} , -2458 , "Doe" , 555 , 100] */</span></div></pre></td></tr></table></figure><h3 id="_将arguments_对象转为数组"><i class="fa fa-lightbulb-o"></i> 将arguments 对象转为数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> argArray = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</div></pre></td></tr></table></figure><h3 id="_校验参数是否为数字"><i class="fa fa-lightbulb-o"></i> 校验参数是否为数字</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span><span class="params">(n)</span></span>{</div><div class="line">    <span class="keyword">return</span> !<span class="built_in">isNaN</span>(<span class="built_in">parseFloat</span>(n)) && <span class="built_in">isFinite</span>(n);</div><div class="line">}</div></pre></td></tr></table></figure><p>读者提供了另外一个技巧</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isNumber</span><span class="params">(n)</span> </span>{</div><div class="line"><span class="keyword">return</span> n === +n;</div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_校验参数是否为数组"><i class="fa fa-lightbulb-o"></i> 校验参数是否为数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">isArray</span><span class="params">(obj)</span></span>{</div><div class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(obj) === <span class="string">'[object Array]'</span> ;</div><div class="line">}</div></pre></td></tr></table></figure><p>Note that if the toString() method is overridden, you will not get the expected result using this trick.</p><p>Or use…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.isArray(obj); <span class="comment">// its a new Array method</span></div></pre></td></tr></table></figure><p>You could also use instanceof if you are not working with multiple frames. However, if you have many contexts, you will get a wrong result.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myFrame = <span class="built_in">document</span>.createElement(<span class="string">'iframe'</span>);</div><div class="line"><span class="built_in">document</span>.body.appendChild(myFrame);</div><div class="line"></div><div class="line"><span class="keyword">var</span> myArray = <span class="built_in">window</span>.frames[<span class="built_in">window</span>.frames.length-<span class="number">1</span>].Array;</div><div class="line"><span class="keyword">var</span> arr = <span class="keyword">new</span> myArray(a,b,<span class="number">10</span>); <span class="comment">// [a,b,10]  </span></div><div class="line"></div><div class="line"><span class="comment">// instanceof will not work correctly, myArray loses his constructor </span></div><div class="line"><span class="comment">// constructor is not shared between frames</span></div><div class="line">arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>; <span class="comment">// false</span></div></pre></td></tr></table></figure><h3 id="_得到数组的最大或者最小元素"><i class="fa fa-lightbulb-o"></i> 得到数组的最大或者最小元素</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span>  numbers = [<span class="number">5</span>, <span class="number">458</span> , <span class="number">120</span> , -<span class="number">215</span> , <span class="number">228</span> , <span class="number">400</span> , <span class="number">122205</span>, -<span class="number">85411</span>]; </div><div class="line"><span class="keyword">var</span> maxInNumbers = <span class="built_in">Math</span>.max.apply(<span class="built_in">Math</span>, numbers); </div><div class="line"><span class="keyword">var</span> minInNumbers = <span class="built_in">Math</span>.min.apply(<span class="built_in">Math</span>, numbers);</div></pre></td></tr></table></figure><h3 id="_清空数组"><i class="fa fa-lightbulb-o"></i> 清空数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myArray = [<span class="number">12</span> , <span class="number">222</span> , <span class="number">1000</span> ];  </div><div class="line">myArray.length = <span class="number">0</span>; <span class="comment">// myArray will be equal to [].</span></div></pre></td></tr></table></figure><h3 id="_不要使用delete方法删除数组的元素"><i class="fa fa-lightbulb-o"></i> 不要使用delete方法删除数组的元素</h3><p>Use splice instead of using delete to delete an item from an array. Using delete replaces the item with undefined instead of the removing it from the array.</p><p>Instead of…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> items = [<span class="number">12</span>, <span class="number">548</span> ,<span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> ,<span class="number">2154</span> , <span class="number">119</span> ]; </div><div class="line">items.length; <span class="comment">// return 11 </span></div><div class="line"><span class="keyword">delete</span> items[<span class="number">3</span>]; <span class="comment">// return true </span></div><div class="line">items.length; <span class="comment">// return 11 </span></div><div class="line"><span class="comment">/* items will be equal to [12, 548, "a", undefined × 1, 5478, "foo", 8852, undefined × 1, "Doe", 2154,       119]   */</span></div></pre></td></tr></table></figure><p>Use…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> items = [<span class="number">12</span>, <span class="number">548</span> ,<span class="string">'a'</span> , <span class="number">2</span> , <span class="number">5478</span> , <span class="string">'foo'</span> , <span class="number">8852</span>, , <span class="string">'Doe'</span> ,<span class="number">2154</span> , <span class="number">119</span> ]; </div><div class="line">items.length; <span class="comment">// return 11 </span></div><div class="line">items.splice(<span class="number">3</span>,<span class="number">1</span>) ; </div><div class="line">items.length; <span class="comment">// return 10 </span></div><div class="line"><span class="comment">/* items will be equal to [12, 548, "a", 5478, "foo", 8852, undefined × 1, "Doe", 2154,       119]   */</span></div></pre></td></tr></table></figure><p>The delete method should be used to delete an object property.</p><h3 id="_设置length实现截短数组"><i class="fa fa-lightbulb-o"></i> 设置length实现截短数组</h3><p>Like the previous example of emptying an array, we truncate it using the length property.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> myArray = [<span class="number">12</span> , <span class="number">222</span> , <span class="number">1000</span> , <span class="number">124</span> , <span class="number">98</span> , <span class="number">10</span> ];  </div><div class="line">myArray.length = <span class="number">4</span>; <span class="comment">// myArray will be equal to [12 , 222 , 1000 , 124].</span></div></pre></td></tr></table></figure><p>As a bonus, if you set the array length to a higher value, the length will be changed and new items will be added with undefined as a value. The array length is not a read only property.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">myArray.length = <span class="number">10</span>; <span class="comment">// the new array length is 10 </span></div><div class="line">myArray[myArray.length - <span class="number">1</span>] ; <span class="comment">// undefined</span></div></pre></td></tr></table></figure><h3 id="_使用逻辑_AND/_OR_作为条件判断"><i class="fa fa-lightbulb-o"></i> 使用逻辑 AND/ OR 作为条件判断</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> foo = <span class="number">10</span>;  </div><div class="line">foo == <span class="number">10</span> && doSomething(); <span class="comment">// is the same thing as if (foo == 10) doSomething(); </span></div><div class="line">foo == <span class="number">5</span> || doSomething(); <span class="comment">// is the same thing as if (foo != 5) doSomething();</span></div></pre></td></tr></table></figure><p>The logical OR could also be used to set a default value for function argument.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">doSomething</span><span class="params">(arg1)</span></span>{ </div><div class="line">    arg1 = arg1 || <span class="number">10</span>; <span class="comment">// arg1 will have 10 as a default value if it’s not already set</span></div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_使用map()函数遍历数组"><i class="fa fa-lightbulb-o"></i> 使用map()函数遍历数组</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> squares = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].map(<span class="function"><span class="keyword">function</span> <span class="params">(val)</span> </span>{  </div><div class="line">    <span class="keyword">return</span> val * val;  </div><div class="line">}); </div><div class="line"><span class="comment">// squares will be equal to [1, 4, 9, 16]</span></div></pre></td></tr></table></figure><h3 id="_四舍五入，_保留_N位小数"><i class="fa fa-lightbulb-o"></i> 四舍五入， 保留 N位小数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> num =<span class="number">2.443242342</span>;</div><div class="line">num = num.toFixed(<span class="number">4</span>);  <span class="comment">// num will be equal to 2.4432</span></div></pre></td></tr></table></figure><p>NOTE : the toFixed() function returns a string and not a number.</p><h3 id="_浮点数问题"><i class="fa fa-lightbulb-o"></i> 浮点数问题</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="number">0.1</span> + <span class="number">0.2</span> === <span class="number">0.3</span> <span class="comment">// is false </span></div><div class="line"><span class="number">9007199254740992</span> + <span class="number">1</span> <span class="comment">// is equal to 9007199254740992  </span></div><div class="line"><span class="number">9007199254740992</span> + <span class="number">2</span> <span class="comment">// is equal to 9007199254740994</span></div></pre></td></tr></table></figure><p>Why does this happen? 0.1 +0.2 is equal to 0.30000000000000004. What you need to know is that all JavaScript numbers are floating points represented internally in 64 bit binary according to the IEEE 754 standard. For more explanation, take a look to this blog post.</p><p>You can use toFixed() and toPrecision() to resolve this problem.</p><h3 id="_使用for-in循环检查对象的属性时需要注意"><i class="fa fa-lightbulb-o"></i> 使用for-in循环检查对象的属性时需要注意</h3><p>This code snippet could be useful in order to avoid iterating through the properties from the object’s prototype.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> name <span class="keyword">in</span> object) {  </div><div class="line">    <span class="keyword">if</span> (object.hasOwnProperty(name)) { </div><div class="line">        <span class="comment">// do something with name                    </span></div><div class="line">    }  </div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_逗号操作符"><i class="fa fa-lightbulb-o"></i> 逗号操作符</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> a = <span class="number">0</span>; </div><div class="line"><span class="keyword">var</span> b = ( a++, <span class="number">99</span> ); </div><div class="line"><span class="built_in">console</span>.log(a);  <span class="comment">// a will be equal to 1 </span></div><div class="line"><span class="built_in">console</span>.log(b);  <span class="comment">// b is equal to 99</span></div></pre></td></tr></table></figure><h3 id="_缓存需要查询或者计算的变量"><i class="fa fa-lightbulb-o"></i> 缓存需要查询或者计算的变量</h3><p>In the case of a jQuery selector, we could cache the DOM element.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> navright = <span class="built_in">document</span>.querySelector(<span class="string">'#right'</span>); </div><div class="line"><span class="keyword">var</span> navleft = <span class="built_in">document</span>.querySelector(<span class="string">'#left'</span>); </div><div class="line"><span class="keyword">var</span> navup = <span class="built_in">document</span>.querySelector(<span class="string">'#up'</span>); </div><div class="line"><span class="keyword">var</span> navdown = <span class="built_in">document</span>.querySelector(<span class="string">'#down'</span>);</div></pre></td></tr></table></figure><h3 id="_传给isFinite()的参数需要校验"><i class="fa fa-lightbulb-o"></i> 传给isFinite()的参数需要校验</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">isFinite</span>(<span class="number">0</span>/<span class="number">0</span>) ; <span class="comment">// false </span></div><div class="line"><span class="built_in">isFinite</span>(<span class="string">"foo"</span>); <span class="comment">// false </span></div><div class="line"><span class="built_in">isFinite</span>(<span class="string">"10"</span>); <span class="comment">// true </span></div><div class="line"><span class="built_in">isFinite</span>(<span class="number">10</span>);   <span class="comment">// true </span></div><div class="line"><span class="built_in">isFinite</span>(<span class="literal">undefined</span>);  <span class="comment">// false </span></div><div class="line"><span class="built_in">isFinite</span>();   <span class="comment">// false </span></div><div class="line"><span class="built_in">isFinite</span>(<span class="literal">null</span>);  <span class="comment">// true  !!!</span></div></pre></td></tr></table></figure><h3 id="_避免数组的索引为负值"><i class="fa fa-lightbulb-o"></i> 避免数组的索引为负值</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> numbersArray = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]; </div><div class="line"><span class="keyword">var</span> from = numbersArray.indexOf(<span class="string">"foo"</span>) ;  <span class="comment">// from is equal to -1 </span></div><div class="line">numbersArray.splice(from,<span class="number">2</span>);    <span class="comment">// will return [5]</span></div></pre></td></tr></table></figure><p>Make sure that the arguments passed to splice are not negative.</p><h3 id="_JSON的序列化和反序列化"><i class="fa fa-lightbulb-o"></i> JSON的序列化和反序列化</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> person = {name :<span class="string">'Saad'</span>, age : <span class="number">26</span>, department : {ID : <span class="number">15</span>, name : <span class="string">"R&D"</span>} }; </div><div class="line"><span class="keyword">var</span> stringFromPerson = <span class="built_in">JSON</span>.stringify(person); </div><div class="line"><span class="comment">/* stringFromPerson is equal to "{"name":"Saad","age":26,"department":{"ID":15,"name":"R&D"}}"   */</span> </div><div class="line"><span class="keyword">var</span> personFromString = <span class="built_in">JSON</span>.parse(stringFromPerson);  </div><div class="line"><span class="comment">/* personFromString is equal to person object  */</span></div></pre></td></tr></table></figure><h3 id="_避免使用_eval()_或者Function的构造函数"><i class="fa fa-lightbulb-o"></i> 避免使用 eval() 或者Function的构造函数</h3><p>Use of eval or the Function constructor are expensive operations as each time they are called script engine must convert source code to executable code.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> func1 = <span class="keyword">new</span> <span class="built_in">Function</span>(functionCode);</div><div class="line"><span class="keyword">var</span> func2 = <span class="built_in">eval</span>(functionCode);</div></pre></td></tr></table></figure><h3 id="_避免使用_with()_(The_good_part)"><i class="fa fa-lightbulb-o"></i> 避免使用 with() (The good part)</h3><p>Using with() inserts a variable at the global scope. Thus, if another variable has the same name it could cause confusion and overwrite the value.</p><h3 id="_避免使用for-in遍历数组"><i class="fa fa-lightbulb-o"></i> 避免使用for-in遍历数组</h3><p>Instead of using…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;  </div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> arrayNumbers) {  </div><div class="line">    sum += arrayNumbers[i];  </div><div class="line">}</div></pre></td></tr></table></figure><p>…it’s better to use…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> sum = <span class="number">0</span>;  </div><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, len = arrayNumbers.length; i &lt; len; i++) {  </div><div class="line">    sum += arrayNumbers[i];  </div><div class="line">}</div></pre></td></tr></table></figure><p>As a bonus, the instantiation of i and len is executed once because it’s in the first statement of the for loop. Thsi is faster than using…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arrayNumbers.length; i++)</div></pre></td></tr></table></figure><p>Why? The length of the array arrayNumbers is recalculated every time the loop iterates.</p><p>NOTE : the issue of recalculating the length in each iteration was fixed in the latest JavaScript engines.</p><h3 id="_调用setTimeout()_和_setInterval()时传入函数而不是函数的字符串名字"><i class="fa fa-lightbulb-o"></i> 调用setTimeout() 和 setInterval()时传入函数而不是函数的字符串名字</h3><p>If you pass a string into setTimeout() or setInterval(), the string will be evaluated the same way as with eval, which is slow. Instead of using…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setInterval(<span class="string">'doSomethingPeriodically()'</span>, <span class="number">1000</span>);  </div><div class="line">setTimeout(<span class="string">'doSomethingAfterFiveSeconds()'</span>, <span class="number">5000</span>);</div></pre></td></tr></table></figure><p>…use…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">setInterval(doSomethingPeriodically, <span class="number">1000</span>);  </div><div class="line">setTimeout(doSomethingAfterFiveSeconds, <span class="number">5000</span>);</div></pre></td></tr></table></figure><h3 id="_使用_switch/case_statement_而不是一堆的_if/else"><i class="fa fa-lightbulb-o"></i> 使用 switch/case statement 而不是一堆的 if/else</h3><p>Using switch/case is faster when there are more than 2 cases, and it is more elegant (better organized code). Avoid using it when you have more than 10 cases.</p><h3 id="_使用数字返回做switch/case_的条件判断"><i class="fa fa-lightbulb-o"></i> 使用数字返回做switch/case 的条件判断</h3><p>Using a switch/case statement with numeric ranges is possible with this trick.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">getCategory</span><span class="params">(age)</span> </span>{  </div><div class="line">    <span class="keyword">var</span> category = <span class="string">""</span>;  </div><div class="line">    <span class="keyword">switch</span> (<span class="literal">true</span>) {  </div><div class="line">        <span class="keyword">case</span> <span class="built_in">isNaN</span>(age):  </div><div class="line">            category = <span class="string">"not an age"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        <span class="keyword">case</span> (age &gt;= <span class="number">50</span>):  </div><div class="line">            category = <span class="string">"Old"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        <span class="keyword">case</span> (age &lt;= <span class="number">20</span>):  </div><div class="line">            category = <span class="string">"Baby"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">        <span class="keyword">default</span>:  </div><div class="line">            category = <span class="string">"Young"</span>;  </div><div class="line">            <span class="keyword">break</span>;  </div><div class="line">    };  </div><div class="line">    <span class="keyword">return</span> category;  </div><div class="line">}  </div><div class="line">getCategory(<span class="number">5</span>);  <span class="comment">// will return "Baby"</span></div></pre></td></tr></table></figure><h3 id="_为创建的对象指定prototype"><i class="fa fa-lightbulb-o"></i> 为创建的对象指定prototype</h3><p>It’s possible to write a function that creates an object whose prototype is the given argument like this…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">clone</span><span class="params">(object)</span> </span>{  </div><div class="line">    <span class="function"><span class="keyword">function</span> <span class="title">OneShotConstructor</span><span class="params">()</span></span>{}; </div><div class="line">    OneShotConstructor.prototype= object;  </div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> OneShotConstructor(); </div><div class="line">} </div><div class="line">clone(<span class="built_in">Array</span>).prototype ;  <span class="comment">// []</span></div></pre></td></tr></table></figure><h3 id="_HTML_转义函数"><i class="fa fa-lightbulb-o"></i> HTML 转义函数</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">escapeHTML</span><span class="params">(text)</span> </span>{  </div><div class="line">    <span class="keyword">var</span> replacements= {<span class="string">"&lt;"</span>: <span class="string">"&lt;"</span>, <span class="string">"&gt;"</span>: <span class="string">"&gt;"</span>,<span class="string">"&"</span>: <span class="string">"&amp;"</span>, <span class="string">"\""</span>: <span class="string">"&quot;"</span>};                      </div><div class="line">    <span class="keyword">return</span> text.replace(<span class="regexp">/[&lt;&gt;&"]/g</span>, <span class="function"><span class="keyword">function</span><span class="params">(character)</span> </span>{  </div><div class="line">        <span class="keyword">return</span> replacements[character];  </div><div class="line">    }); </div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_不要在循环内部使用try-catch-finally"><i class="fa fa-lightbulb-o"></i> 不要在循环内部使用try-catch-finally</h3><p>The try-catch-finally construct creates a new variable in the current scope at runtime each time the catch clause is executed where the caught exception object is assigned to a variable.</p><p>Instead of using…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> object = [<span class="string">'foo'</span>, <span class="string">'bar'</span>], i;  </div><div class="line"><span class="keyword">for</span> (i = <span class="number">0</span>, len = object.length; i &lt;len; i++) {  </div><div class="line">    <span class="keyword">try</span> {  </div><div class="line">        <span class="comment">// do something that throws an exception </span></div><div class="line">    }  </div><div class="line">    <span class="keyword">catch</span> (e) {   </div><div class="line">        <span class="comment">// handle exception  </span></div><div class="line">    } </div><div class="line">}</div></pre></td></tr></table></figure><p>…use…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> object = [<span class="string">'foo'</span>, <span class="string">'bar'</span>], i;  </div><div class="line"><span class="keyword">try</span> { </div><div class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>, len = object.length; i &lt;len; i++) {  </div><div class="line">        <span class="comment">// do something that throws an exception </span></div><div class="line">    } </div><div class="line">} </div><div class="line"><span class="keyword">catch</span> (e) {   </div><div class="line">    <span class="comment">// handle exception  </span></div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_为XMLHttpRequests设置超时"><i class="fa fa-lightbulb-o"></i> 为XMLHttpRequests设置超时</h3><p>You could abort the connection if an XHR takes a long time (for example, due to a network issue), by using setTimeout() with the XHR call.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> xhr = <span class="keyword">new</span> XMLHttpRequest (); </div><div class="line">xhr.onreadystatechange = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{  </div><div class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.readyState == <span class="number">4</span>) {  </div><div class="line">        clearTimeout(timeout);  </div><div class="line">        <span class="comment">// do something with response data </span></div><div class="line">    }  </div><div class="line">}  </div><div class="line"><span class="keyword">var</span> timeout = setTimeout( <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>{  </div><div class="line">    xhr.abort(); <span class="comment">// call error callback  </span></div><div class="line">}, <span class="number">60</span>*<span class="number">1000</span> <span class="comment">/* timeout after a minute */</span> ); </div><div class="line">xhr.open(<span class="string">'GET'</span>, url, <span class="literal">true</span>);  </div><div class="line"></div><div class="line">xhr.send();</div></pre></td></tr></table></figure><p>As a bonus, you should generally avoid synchronous XHR calls completely.</p><h3 id="_处理WebSocket_超时"><i class="fa fa-lightbulb-o"></i> 处理WebSocket 超时</h3><p>Generally when a WebSocket connection is established, a server could time out your connection after 30 seconds of inactivity. The firewall could also time out the connection after a period of inactivity.</p><p>To deal with the timeout issue you could send an empty message to the server periodically. To do this, add these two functions to your code: one to keep alive the connection and the other one to cancel the keep alive. Using this trick, you’ll control the timeout.</p><p>Add a timerID…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> timerID = <span class="number">0</span>; </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">keepAlive</span><span class="params">()</span> </span>{ </div><div class="line">    <span class="keyword">var</span> timeout = <span class="number">15000</span>;  </div><div class="line">    <span class="keyword">if</span> (webSocket.readyState == webSocket.OPEN) {  </div><div class="line">        webSocket.send(<span class="string">''</span>);  </div><div class="line">    }  </div><div class="line">    timerId = setTimeout(keepAlive, timeout);  </div><div class="line">}  </div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">cancelKeepAlive</span><span class="params">()</span> </span>{  </div><div class="line">    <span class="keyword">if</span> (timerId) {  </div><div class="line">        cancelTimeout(timerId);  </div><div class="line">    }  </div><div class="line">}</div></pre></td></tr></table></figure><p>The keepAlive() function should be added at the end of the onOpen() method of the webSocket connection and the cancelKeepAlive() at the end of the onClose() method.</p><h3 id="_牢记，原始运算符始终比函数调用要高效。使用VanillaJS。"><i class="fa fa-lightbulb-o"></i> 牢记，原始运算符始终比函数调用要高效。使用<a href="http://vanilla-js.com/" target="_blank" rel="external">VanillaJS</a>。</h3><p>For example, instead of using…</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> min = <span class="built_in">Math</span>.min(a,b); </div><div class="line">A.push(v);</div><div class="line"></div><div class="line">…use…</div><div class="line"></div><div class="line"><span class="keyword">var</span> min = a &lt; b ? a : b; </div><div class="line">A[A.length] = v;</div></pre></td></tr></table></figure><h3 id="_编码时不要忘记使用代码美化工具-_发布前使用JSLint_和_minification_(如JSMin)-"><i class="fa fa-lightbulb-o"></i> 编码时不要忘记使用代码美化工具. 发布前使用JSLint 和 minification (如JSMin).</h3><h3 id="_JavaScript如此美好，快来看看学习的一些资源吧"><i class="fa fa-lightbulb-o"></i> JavaScript如此美好，快来看看学习的一些资源吧</h3><p>Code Academy JavaScript tracks: <a href="http://www.codecademy.com/tracks/javascript" target="_blank" rel="external">http://www.codecademy.com/tracks/javascript</a><br>Eloquent JavaScript by Marjin Haverbeke: <a href="http://eloquentjavascript.net/" target="_blank" rel="external">http://eloquentjavascript.net/</a><br>Advanced JavaScript by John Resig: <a href="http://ejohn.org/apps/learn/" target="_blank" rel="external">http://ejohn.org/apps/learn/</a></p><h1 id="结尾">结尾</h1><p>我(Saad Mousliki)知道还有许许多多的技巧窍门和最佳实践。 所以如果你有更多想增加的，或者针对以上条目的反馈和更正， 请添加注释。</p><h1 id="参考">参考</h1><p>本文大大部分的代码都是我(Saad Mousliki)自己写的。 有部分的代码片段参考了一些其它文章或者论坛的帖子。</p><ul><li><a href="http://developer.nokia.com/Community/Wiki/JavaScript_Performance_Best_Practices" target="_blank" rel="external">JavaScript Performance Best Practices (CC)</a></li><li><a href="https://code.google.com/p/jslibs/wiki/JavascriptTips" target="_blank" rel="external">Google Code JavaScript tips</a></li><li><a href="http://stackoverflow.com/questions/724826/javascript-tips-and-tricks-javascript-best-practices" target="_blank" rel="external">StackOverFlow tips and tricks</a></li><li><a href="http://stackoverflow.com/questions/6888409/settimeout-for-xhr-requests" target="_blank" rel="external">TimeOut for XHR</a>fu</li></ul><h1 id="附加技巧">附加技巧</h1><p>除了前面文章中提到的技巧， 我也在这篇文章列出收集的更多的JavaScript技巧</p><h3 id="_两个感叹号"><i class="fa fa-lightbulb-o"></i> 两个感叹号</h3><p>一个元素转换为真的布尔值，一般用来判断某个元素是否存在，例如：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="number">1.</span>!![] <span class="literal">true</span>； ![] <span class="literal">false</span></div><div class="line"><span class="number">2.</span>!!{} <span class="literal">true</span>; !{} <span class="literal">false</span></div><div class="line"><span class="number">3.</span>!!<span class="literal">false</span> <span class="literal">false</span>; !<span class="literal">false</span> <span class="literal">true</span></div><div class="line"><span class="number">4.</span>!!<span class="literal">true</span> <span class="literal">true</span>; !<span class="literal">true</span> <span class="literal">false</span></div><div class="line"><span class="number">5.</span>!!<span class="literal">undefined</span> <span class="literal">false</span>; !<span class="literal">undefined</span> <span class="literal">true</span></div></pre></td></tr></table></figure><p>双感叹号才能真正的将他转换成对应的Boolean值，第一个感叹号是将其转化成Boolean类型的值，但是这一操作得到的是其取反以后的值，在进行一次取反运算才能得到其对应真正的布尔值</p><h3 id="_把数字变字符串，_把字符串变数字"><i class="fa fa-lightbulb-o"></i> 把数字变字符串， 把字符串变数字</h3><p>把s变数字：<code>s = s - 0;</code> 或者 <code>s = +s;</code><br>把n变字符串：<code>n = n + &quot;&quot;;</code></p><h3 id="把数组转换成CSV字符串">把数组转换成CSV字符串</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fruits = [<span class="string">'apple'</span>, <span class="string">'peaches'</span>, <span class="string">'oranges'</span>, <span class="string">'mangoes'</span>];</div><div class="line">  </div><div class="line"><span class="keyword">var</span> str = fruits.valueOf();</div><div class="line">  </div><div class="line"><span class="comment">//print str: apple,peaches,oranges,mangoes</span></div></pre></td></tr></table></figure><p>如果不想逗号分隔：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> fruits = [<span class="string">'apple'</span>, <span class="string">'peaches'</span>, <span class="string">'oranges'</span>, <span class="string">'mangoes'</span>];</div><div class="line">  </div><div class="line"><span class="keyword">var</span> str = fruits.join(<span class="string">"|"</span>);</div><div class="line">  </div><div class="line"><span class="comment">//print str: apple|peaches|oranges|mangoes</span></div></pre></td></tr></table></figure><h3 id="_转换CSV字符串为数组"><i class="fa fa-lightbulb-o"></i> 转换CSV字符串为数组</h3><p>使用<code>split</code>方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> str = <span class="string">"apple, peaches, oranges, mangoes"</span>;</div><div class="line">  </div><div class="line"><span class="keyword">var</span> fruitsArray = str.split(<span class="string">","</span>);</div><div class="line">  </div><div class="line"><span class="comment">//print fruitsArray[0]: apple</span></div></pre></td></tr></table></figure><h3 id="_移除数组指定索引"><i class="fa fa-lightbulb-o"></i> 移除数组指定索引</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeByIndex</span><span class="params">(arr, index)</span> </span>{</div><div class="line">    arr.splice(index, <span class="number">1</span>);</div><div class="line">}</div><div class="line"> </div><div class="line">test = <span class="keyword">new</span> <span class="built_in">Array</span>();</div><div class="line">test[<span class="number">0</span>] = <span class="string">'Apple'</span>;</div><div class="line">test[<span class="number">1</span>] = <span class="string">'Ball'</span>;</div><div class="line">test[<span class="number">2</span>] = <span class="string">'Cat'</span>;</div><div class="line">test[<span class="number">3</span>] = <span class="string">'Dog'</span>;</div><div class="line"> </div><div class="line">alert(<span class="string">"Array before removing elements: "</span>+test);</div><div class="line"> </div><div class="line">removeByIndex(test, <span class="number">2</span>);</div><div class="line"> </div><div class="line">alert(<span class="string">"Array after removing elements: "</span>+test);</div></pre></td></tr></table></figure><h3 id="_移除数组特定的值"><i class="fa fa-lightbulb-o"></i> 移除数组特定的值</h3><p>假定数组的值不会重复。如果有重复且想删除所有的重复的值， 注释掉<code>break</code>.</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeByValue</span><span class="params">(arr, val)</span> </span>{</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;arr.length; i++) {</div><div class="line">        <span class="keyword">if</span>(arr[i] === val) {</div><div class="line">            arr.splice(i, <span class="number">1</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"> </div><div class="line"><span class="keyword">var</span> somearray = [<span class="string">"mon"</span>, <span class="string">"tue"</span>, <span class="string">"wed"</span>, <span class="string">"thur"</span>]</div><div class="line"> </div><div class="line">removeByValue(somearray, <span class="string">"tue"</span>);</div><div class="line"> </div><div class="line"><span class="comment">//somearray will now have "mon", "wed", "thur"</span></div></pre></td></tr></table></figure><p>下面的方法是为Array类增加removeByValue方法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Array</span>.prototype.removeByValue = <span class="function"><span class="keyword">function</span><span class="params">(val)</span> </span>{</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="keyword">this</span>.length; i++) {</div><div class="line">        <span class="keyword">if</span>(<span class="keyword">this</span>[i] == val) {</div><div class="line">            <span class="keyword">this</span>.splice(i, <span class="number">1</span>);</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        }</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="comment">//..</span></div><div class="line"> </div><div class="line"><span class="keyword">var</span> somearray = [<span class="string">"mon"</span>, <span class="string">"tue"</span>, <span class="string">"wed"</span>, <span class="string">"thur"</span>]</div><div class="line"> </div><div class="line">somearray.removeByValue(<span class="string">"tue"</span>);</div><div class="line"> </div><div class="line"><span class="comment">//somearray will now have "mon", "wed", "thur"</span></div></pre></td></tr></table></figure><h3 id="_根据方法名调用方法"><i class="fa fa-lightbulb-o"></i> 根据方法名调用方法</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> strFun = <span class="string">"someFunction"</span>; <span class="comment">//Name of the function to be called</span></div><div class="line"><span class="keyword">var</span> strParam = <span class="string">"this is the parameter"</span>; <span class="comment">//Parameters to be passed in function</span></div><div class="line">  </div><div class="line"><span class="comment">//Create the function</span></div><div class="line"><span class="keyword">var</span> fn = <span class="built_in">window</span>[strFun];</div><div class="line">  </div><div class="line"><span class="comment">//Call the function</span></div><div class="line">fn(strParam);</div></pre></td></tr></table></figure><h3 id="_检查Form_是否dirty"><i class="fa fa-lightbulb-o"></i> 检查Form 是否dirty</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"> * Determines if a form is dirty by comparing the current value of each element</div><div class="line"> * with its default value.</div><div class="line"> *</div><div class="line"> * @param {Form} form the form to be checked.</div><div class="line"> * @return {Boolean} &lt;code&gt;true&lt;/code&gt; if the form is dirty, &lt;code&gt;false&lt;/code&gt;</div><div class="line"> *                   otherwise.</div><div class="line"> */</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">formIsDirty</span><span class="params">(form)</span> </span>{</div><div class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; form.elements.length; i++) {</div><div class="line">    <span class="keyword">var</span> element = form.elements[i];</div><div class="line">    <span class="keyword">var</span> type = element.type;</div><div class="line">    <span class="keyword">if</span> (type == <span class="string">"checkbox"</span> || type == <span class="string">"radio"</span>) {</div><div class="line">      <span class="keyword">if</span> (element.checked != element.defaultChecked) {</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">      }</div><div class="line">    }</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">"hidden"</span> || type == <span class="string">"password"</span> ||</div><div class="line">             type == <span class="string">"text"</span> || type == <span class="string">"textarea"</span>) {</div><div class="line">      <span class="keyword">if</span> (element.value != element.defaultValue) {</div><div class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">      }</div><div class="line">    }</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (type == <span class="string">"select-one"</span> || type == <span class="string">"select-multiple"</span>) {</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> j = <span class="number">0</span>; j &lt; element.options.length; j++) {</div><div class="line">        <span class="keyword">if</span> (element.options[j].selected !=</div><div class="line">            element.options[j].defaultSelected) {</div><div class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">        }</div><div class="line">      }</div><div class="line">    }</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_检查字符串是否包含子串"><i class="fa fa-lightbulb-o"></i> 检查字符串是否包含子串</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.prototype.indexOf) {</div><div class="line">    <span class="built_in">Array</span>.prototype.indexOf = <span class="function"><span class="keyword">function</span><span class="params">(obj, start)</span> </span>{</div><div class="line">         <span class="keyword">for</span> (<span class="keyword">var</span> i = (start || <span class="number">0</span>), j = <span class="keyword">this</span>.length; i &lt; j; i++) {</div><div class="line">             <span class="keyword">if</span> (<span class="keyword">this</span>[i] === obj) { <span class="keyword">return</span> i; }</div><div class="line">         }</div><div class="line">         <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">    }</div><div class="line">}</div><div class="line"> </div><div class="line"><span class="keyword">if</span> (!<span class="built_in">String</span>.prototype.contains) {</div><div class="line">    <span class="built_in">String</span>.prototype.contains = <span class="function"><span class="keyword">function</span> <span class="params">(arg)</span> </span>{</div><div class="line">        <span class="keyword">return</span> !!~<span class="keyword">this</span>.indexOf(arg);</div><div class="line">    };</div><div class="line">}</div></pre></td></tr></table></figure><h3 id="_移除数组的重复数据"><i class="fa fa-lightbulb-o"></i> 移除数组的重复数据</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">removeDuplicates</span><span class="params">(arr)</span> </span>{</div><div class="line">    <span class="keyword">var</span> temp = {};</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; arr.length; i++)</div><div class="line">        temp[arr[i]] = <span class="literal">true</span>;</div><div class="line"> </div><div class="line">    <span class="keyword">var</span> r = [];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> k <span class="keyword">in</span> temp)</div><div class="line">        r.push(k);</div><div class="line">    <span class="keyword">return</span> r;</div><div class="line">}</div><div class="line"> </div><div class="line"><span class="comment">//Usage</span></div><div class="line"><span class="keyword">var</span> fruits = [<span class="string">'apple'</span>, <span class="string">'orange'</span>, <span class="string">'peach'</span>, <span class="string">'apple'</span>, <span class="string">'strawberry'</span>, <span class="string">'orange'</span>];</div><div class="line"><span class="keyword">var</span> uniquefruits = removeDuplicates(fruits);</div><div class="line"><span class="comment">//print uniquefruits ['apple', 'orange', 'peach', 'strawberry'];</span></div></pre></td></tr></table></figure><h3 id="_记不住apply和call的区别"><i class="fa fa-lightbulb-o"></i> 记不住<code>apply</code>和<code>call</code>的区别</h3><p><a href="http://stackoverflow.com/questions/1986896/what-is-the-difference-between-call-and-apply" target="_blank" rel="external">stackoverflow</a>:<br>Think of a in apply for <strong>a</strong>rray of args and c in call for <strong>c</strong>olumns of args.</p><h3 id="_双波浪号~~是取整"><i class="fa fa-lightbulb-o"></i> 双波浪号~~是取整</h3><p><a href="http://rocha.la/JavaScript-bitwise-operators-in-practice" target="_blank" rel="external">http://rocha.la/JavaScript-bitwise-operators-in-practice</a> :<br>单波浪号是按位非，双波浪号是取整。</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">~~<span class="number">2</span> === <span class="built_in">Math</span>.floor(<span class="number">2</span>); <span class="comment">//true, 2</span></div><div class="line">~~<span class="number">2.4</span> === <span class="built_in">Math</span>.floor(<span class="number">2</span>); <span class="comment">//true, 2</span></div><div class="line">~~<span class="number">3.9</span> === <span class="built_in">Math</span>.floor(<span class="number">3</span>); <span class="comment">//true, 3</span></div></pre></td></tr></table></figure><p>参考文档：</p><ul><li><a href="http://viralpatel.net/blogs/javascript-tips-tricks/" target="_blank" rel="external">21 JavaScript Tips and Tricks for JavaScript Developers</a></li></ul></div><footer class="article-footer"><ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/javascript/">javascript</a></li></ul><section id="comments"><script src="https://utteranc.es/client.js" repo="smallnest/gitalk" issue-term="title" theme="github-light" crossorigin="anonymous" async></script><noscript>为正常使用评论功能请激活JavaScript</noscript></section></footer></div><nav id="article-nav"><a href="/2014/09/25/android-activity-lifecycle/" id="article-nav-newer" class="article-nav-link-wrap"><strong class="article-nav-caption">Newer</strong><div class="article-nav-title">android Activity 生命周期详解</div></a> <a href="/2014/09/23/JavaScript-Module-Pattern-In-Depth/" id="article-nav-older" class="article-nav-link-wrap"><strong class="article-nav-caption">Older</strong><div class="article-nav-title">深入理解JavaScript 模块模式</div></a></nav></article></section><aside id="sidebar"><div class="widget-wrap"><h3 class="widget-title">微信公众号</h3><div class="widget"><img width="100%" src="/images/widgets/gopatterns.jpg"></div></div><div class="widget-wrap"><h3 class="widget-title">极客时间专栏</h3><div class="widget"><a href="https://time.geekbang.org/column/intro/100061801"><img width="100%" src="/images/widgets/geekbang.png"></a></div></div><div class="widget-wrap"><h3 class="widget-title">原创图书</h3><div class="widget"><a href="/ScalaCollectionsCookbook/"><img width="100%" src="/ScalaCollectionsCookbook/scala_collections_cookbook.jpg"> <img width="100%" src="/ScalaCollectionsCookbook/scala_collections_cookbook_tw.png"></a></div></div><div class="widget-wrap"><h3 class="widget-title">分类</h3><div class="widget"><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DOTNET/">DOTNET</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Docker/">Docker</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Go/">Go</a><span class="category-list-count">185</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Java/">Java</a><span class="category-list-count">64</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux/">Linux</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Rust/">Rust</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Scala/">Scala</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/分享/">分享</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/前端开发/">前端开发</a><span class="category-list-count">18</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/区块链/">区块链</a><span class="category-list-count">8</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/大数据/">大数据</a><span class="category-list-count">60</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/工具/">工具</a><span class="category-list-count">28</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/数据库/">数据库</a><span class="category-list-count">3</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/架构/">架构</a><span class="category-list-count">26</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/算法/">算法</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/管理/">管理</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络编程/">网络编程</a><span class="category-list-count">13</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/读书笔记/">读书笔记</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/运维/">运维</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/高并发编程/">高并发编程</a><span class="category-list-count">20</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">标签云</h3><div class="widget tagcloud"><a href="/tags/Android/" style="font-size: 15.71px">Android</a><a href="/tags/ApacheBench/" style="font-size: 11.43px">ApacheBench</a><a href="/tags/Bower/" style="font-size: 10.00px">Bower</a><a href="/tags/C/" style="font-size: 10.00px">C#</a><a href="/tags/CDN/" style="font-size: 10.00px">CDN</a><a href="/tags/CQRS/" style="font-size: 10.00px">CQRS</a><a href="/tags/CRC/" style="font-size: 10.00px">CRC</a><a href="/tags/CSS/" style="font-size: 11.43px">CSS</a><a href="/tags/CompletableFuture/" style="font-size: 10.00px">CompletableFuture</a><a href="/tags/Comsat/" style="font-size: 10.00px">Comsat</a><a href="/tags/Curator/" style="font-size: 18.57px">Curator</a><a href="/tags/DSL/" style="font-size: 10.00px">DSL</a><a href="/tags/Disruptor/" style="font-size: 10.00px">Disruptor</a><a href="/tags/Docker/" style="font-size: 11.43px">Docker</a><a href="/tags/Ember/" style="font-size: 11.43px">Ember</a><a href="/tags/FastJson/" style="font-size: 10.00px">FastJson</a><a href="/tags/Fiber/" style="font-size: 10.00px">Fiber</a><a href="/tags/GAE/" style="font-size: 10.00px">GAE</a><a href="/tags/GC/" style="font-size: 12.86px">GC</a><a href="/tags/Gnuplot/" style="font-size: 10.00px">Gnuplot</a><a href="/tags/Go/" style="font-size: 14.29px">Go</a><a href="/tags/Gradle/" style="font-size: 10.00px">Gradle</a><a href="/tags/Grunt/" style="font-size: 10.00px">Grunt</a><a href="/tags/Gulp/" style="font-size: 10.00px">Gulp</a><a href="/tags/Hadoop/" style="font-size: 10.00px">Hadoop</a><a href="/tags/Hazelcast/" style="font-size: 10.00px">Hazelcast</a><a href="/tags/IPFS/" style="font-size: 10.00px">IPFS</a><a href="/tags/Ignite/" style="font-size: 10.00px">Ignite</a><a href="/tags/JVM/" style="font-size: 10.00px">JVM</a><a href="/tags/Java/" style="font-size: 17.14px">Java</a><a href="/tags/Kafka/" style="font-size: 20.00px">Kafka</a><a href="/tags/Lambda/" style="font-size: 14.29px">Lambda</a><a href="/tags/Linux/" style="font-size: 12.86px">Linux</a><a href="/tags/LongAdder/" style="font-size: 10.00px">LongAdder</a><a href="/tags/MathJax/" style="font-size: 10.00px">MathJax</a><a href="/tags/Maven/" style="font-size: 11.43px">Maven</a><a href="/tags/Memcached/" style="font-size: 10.00px">Memcached</a><a href="/tags/Metrics/" style="font-size: 10.00px">Metrics</a><a href="/tags/Mongo/" style="font-size: 12.86px">Mongo</a><a href="/tags/Netty/" style="font-size: 15.71px">Netty</a></div></div><div class="widget-wrap"><h3 class="widget-title">归档</h3><div class="widget"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/03/">March 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">July 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/10/">October 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/08/">August 2016</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/07/">July 2016</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/06/">June 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/05/">May 2016</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/04/">April 2016</a><span class="archive-list-count">14</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/03/">March 2016</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/02/">February 2016</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/11/">November 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a><span class="archive-list-count">9</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/06/">June 2015</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/05/">May 2015</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/04/">April 2015</a><span class="archive-list-count">15</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/03/">March 2015</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a><span class="archive-list-count">10</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/09/">September 2014</a><span class="archive-list-count">28</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/08/">August 2014</a><span class="archive-list-count">19</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/07/">July 2014</a><span class="archive-list-count">1</span></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">近期文章</h3><div class="widget"><ul><li><a href="/2022/01/27/pyroscope-a-continuous-profiling-platform/">pyroscope: 一个简单易用的持续剖析平台</a></li><li><a href="/2022/01/16/three-new-concepts-of-go-interface-since-1-18/">面试官提问三个Go接口的概念， 10年gopher竟无言以对</a></li><li><a href="/2022/01/15/Writing-maintainable-Go-code/">编写可维护的Go代码</a></li><li><a href="/2022/01/11/go-generic-supports-specialization-no/">Go泛型编程: 支持特例化?</a></li><li><a href="/2022/01/08/the-interface-is-not-that-interface-in-go-1-18/">Go泛型编程: interface 不再是那个interface</a></li></ul></div></div><div class="widget-wrap"><h3 class="widget-title">友情链接</h3><div class="widget"><ul><li><a href="http://stackshare.io" target="_blank">技术栈</a></li><li>&nbsp;</li><li><a href="https://toutiao.io/" target="_blank">开发者头条</a></li><li><a href="http://weekly.manong.io/issues/" target="_blank">码农周刊</a></li><li><a href="http://www.tuicool.com/mags" target="_blank">编程狂人周刊</a></li><li><a href="http://www.importnew.com/" target="_blank">importnew</a></li><li><a href="http://ifeve.com/" target="_blank">并发编程网</a></li><li>&nbsp;</li><li><a href="http://github.com" target="_blank">github</a></li><li><a href="http://stackoverflow.com/" target="_blank">stackoverflow</a></li><li><a href="http://www.javacodegeeks.com/" target="_blank">javacodegeeks</a></li><li><a href="http://www.infoq.com/" target="_blank">infoq</a></li><li><a href="http://www.dzone.com/links/index.html" target="_blank">dzone</a></li><li><a href="https://oj.leetcode.com/problems/" target="_blank">leetcode</a></li><li><a href="http://tutorials.jenkov.com" target="_blank">jenkov</a></li><li><a href="https://howtodoinjava.com" target="_blank">HowToDoInJava</a></li><li><a href="https://java-design-patterns.com/patterns/" target="_blank">java design patterns</a></li><li>&nbsp;</li><li><a href="https://medium.com/netflix-techblog" target="_blank">Netflix技术博客</a></li><li><a href="https://www.techiedelight.com" target="_blank">Techie Delight</a></li><li><a href="https://engineering.linkedin.com/blog" target="_blank">Linkedin技术博客</a></li><li><a href="https://blogs.dropbox.com/tech/" target="_blank">Dropbox技术博客</a></li><li><a href="https://code.fb.com" target="_blank">Facebook技术博客</a></li><li><a href="http://jm.taobao.org" target="_blank">淘宝中间件团队</a></li><li><a href="https://tech.meituan.com" target="_blank">美团技术博客</a></li><li><a href="http://blogs.360.cn" target="_blank">360技术博客</a></li><li><a href="https://xiaomi-info.github.io" target="_blank">小米信息部技术团队</a></li></ul></div></div></aside></div><footer id="footer"><div class="outer"><div id="footer-info" class="inner">&copy; 2022 smallnest<br>Powered by <a href="http://hexo.io/" target="_blank">Hexo</a></div></div></footer></div><nav id="mobile-nav"><a href="/" class="mobile-nav-link"><i class="fa fa-home">&nbsp;</i>首页</a> <a href="/archives" class="mobile-nav-link"><i class="fa fa-folder-o">&nbsp;</i>归档</a> <a href="https://github.com/smallnest" class="mobile-nav-link"><i class="fa fa-github">&nbsp;</i>github</a> <a class="mobile-nav-link" href="#"><i class="fa fa-bars">&nbsp;</i>网站群</a> <a class="mobile-nav-link" href="/goasm">&nbsp;&nbsp;<i class="fa fa-language">&nbsp;</i>Go汇编示例</a> <a class="mobile-nav-link" href="https://gowebexamples.com">&nbsp;&nbsp;<i class="fa fa-external-link">&nbsp;</i>Go Web开发示例</a> <a class="mobile-nav-link" href="http://go-database-sql.org">&nbsp;&nbsp;<i class="fa fa-external-link">&nbsp;</i>Go 数据库开发教程</a> <a class="mobile-nav-link" href="http://rpcx.io">&nbsp;&nbsp;<i class="fa undefined">&nbsp;</i>RPCX官网</a> <a class="mobile-nav-link" href="http://cn.doc.rpcx.io">&nbsp;&nbsp;<i class="fa undefined">&nbsp;</i>RPC开发指南</a> <a href="/ScalaCollectionsCookbook" class="mobile-nav-link"><i class="fa fa-book">&nbsp;</i>Scala集合技术手册</a> <a href="/about" class="mobile-nav-link"><i class="fa fa-lemon-o">&nbsp;</i>关于</a></nav><script src="//cdn.staticfile.org/jquery/1.11.1/jquery.min.js"></script><script src="//cdn.bootcss.com/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script><script src="//cdnjs.cloudflare.com/ajax/libs/fancybox/3.2.5/jquery.fancybox.min.js"></script><script src="/js/script.js" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax:{inlineMath:[["$","$"],["\\(","\\)"]],processEscapes:!0,skipTags:["script","noscript","style","textarea","pre","code"]}}),MathJax.Hub.Queue(function(){var a,e=MathJax.Hub.getAllJax();for(a=0;a<e.length;a+=1)e[a].SourceElement().parentNode.className+=" has-jax"});</script><script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.6.0-beta.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><div id="totop" style="position:fixed;bottom:150px;right:10px;cursor: pointer;z-index: 2000"><a title="返回顶部"><img src="/images/scrollup.png"></a></div><script src="/js/totop.js" type="text/javascript"></script><script>var _hmt=_hmt||[];!function(){var e=document.createElement("script");e.src="//hm.baidu.com/hm.js?e085d87993250aab11f3e0c15f1c2785";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}();</script></div></body></html>